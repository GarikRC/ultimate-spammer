/*!CK:1212255688!*//*1444634216,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["sKTIS"]); }

__d('NotificationSeenState',['NotificationConstants','NotificationUpdates','createObjectFrom'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={},l=1,m=2,n=0,o=l,p=l|m,q=h.PayloadSourceType.INITIAL_LOAD,r={UNSEEN_AND_UNREAD:n,SEEN_BUT_UNREAD:o,SEEN_AND_READ:p};function s(v){var w=[],x=[];Object.keys(v).forEach(function(y){var z=v[y],aa=k[y];k[y]=z;if(aa===undefined){w.push(y);x.push(y);return;}var ba=aa^z;if(ba&l)w.push(y);if(ba&m)x.push(y);});w.length&&i.didUpdateSeenState(w);x.length&&i.didUpdateReadState(x);}i.subscribe('update-notifications',function(v,w){var x=w.nodes;if(!x||!x.length)return;var y=w.payloadsource,z=h.PayloadSourceType,aa=y==z.ENDPOINT,ba={};w.nodes.forEach(function(ca){var da=ca.alert_id;if(!aa||k[da]===undefined)ba[da]=r[ca.seen_state];});s(ba);});i.subscribe('update-seen',function(v,w){if(!w.seenState)return;var x=[],y={};Object.keys(w.seenState).forEach(function(aa){if(!w.seenState[aa]){x.push(aa);return;}var ba=k[aa];if(ba!==undefined)y[aa]=ba|l;});var z=babelHelpers._extends({},j(x,n),y);s(z);});i.subscribe('update-read',function(v,w){if(!w.readState)return;var x=[],y={};Object.keys(w.readState).forEach(function(aa){if(w.readState[aa]){x.push(aa);return;}var ba=k[aa];if(ba!==undefined){y[aa]=ba&~m;}else if(w.payloadsource==q)y[aa]=o;});var z=babelHelpers._extends({},j(x,p),y);s(z);});function t(v){var w=k[v];return w;}var u={isRead:function(v){return t(v)===p;},isSeen:function(v){return t(v)!==n;},getUnseenCount:function(){return u.getUnseenIDs().length;},getUnseenIDs:function(){return Object.keys(k).filter(function(v){return k[v]===n;});},getUnreadCount:function(){return u.getUnreadIDs().length;},getUnreadIDs:function(){return Object.keys(k).filter(function(v){return k[v]!==p;});}};f.exports=u;},null);
__d('NotificaionJewelControllerModuleLoader',['JSResource','NotificationSeenState','NotificationStore','NotificationUpdates'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();c('NotificationSeenState');c('NotificationStore');c('NotificationUpdates');f.exports=h('NotificationJewelController');},null);
__d('NotificationJewelHeaderController',['DOM','Event','NotificationSeenState','NotificationUserActions','NotificationUpdates'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(n,o){'use strict';i.listen(n,'click',function(){var p=j.getUnreadIDs();if(p.length)k.markNotificationsAsRead(p);});l.subscribe('read-state-updated',function(){if(o)h.setContent(o,j.getUnreadCount());});}f.exports=m;},null);
__d('NotificationHiddenState',['NotificationUpdates','NotificationConstants','isEmpty'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={};h.subscribe('update-notifications',function(m,n){var o=n.nodes,p=n.payloadsource;if(p===i.PayloadSourceType.LIVE_SEND&&o&&o.length){var q={};o.forEach(function(r){var s=r.alert_id;if(k[s])q[s]=false;});if(!j(q)){k=Object.assign(k,q);h.didUpdateHiddenState(Object.keys(q));}}});h.subscribe('update-hidden',function(m,n){if(n.hiddenState){k=Object.assign(k,n.hiddenState);h.didUpdateHiddenState(Object.keys(n.hiddenState));}});var l={isHidden:function(m){if(k[m])return k[m];return false;}};f.exports=l;},null);
__d('NotificationList.react',['NotificationConstants','NotificationHiddenState','NotificationSeenState','NotificationStore','NotificationUpdates','NotificationUserActions','React','getObjectValues','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=h.PayloadSourceType.LIVE_SEND,s=n.createClass({displayName:'NotificationList',propTypes:{businessID:q.string,hasEverBeenOpened:q.bool,maxHeight:q.number,negativeTracking:q.object,paused:q.bool,tracking:q.string,useChevron:q.bool,chevronType:q.string,numPerPage:q.number.isRequired,listRenderer:q.func.isRequired,upsell:q.object},getInitialState:function(){this._currentlyFetching=false;this._pendingNotifs={};this._shouldScroll=false;return {canFetchMore:true,notifs:{},hiddenState:{},readState:{},showingChevron:false};},componentWillMount:function(){k.setBusinessID(this.props.businessID);this._subscriptions=[l.subscribe('notifications-updated',(function(t,u){if(u.source==r&&!p(u.updates)){this._shouldScroll=true;if(this.props.paused!==false)this._pendingNotifs=babelHelpers._extends({},this._pendingNotifs,u.updates);return;}this._fetchAndUpdate(k.getCount());}).bind(this)),l.subscribe(['hidden-state-updated','read-state-updated'],(function(t,u){if(t=='hidden-state-updated'){if(u.source!==r||!this.props.paused){var v={};Object.keys(u.updates).forEach(function(x){v[x]=i.isHidden(x);});this.setState({hiddenState:babelHelpers._extends({},this.state.hiddenState,v)});}}else{var w={};Object.keys(u.updates).forEach(function(x){w[x]=j.isRead(x);});this.setState({readState:babelHelpers._extends({},this.state.readState,w)});}}).bind(this))];},componentWillUnmount:function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}},_getNotifsWithCurrentOrder:function(t){var u=Object.keys(this.state.notifs),v=Object.keys(t).filter((function(x){return !this.state.notifs[x];}).bind(this));u=u.concat(v);var w={};u.forEach((function(x){if(this._pendingNotifs[x]){if(this.state.notifs[x])w[x]=this.state.notifs[x];}else w[x]=t[x];}).bind(this));return w;},_fetchAndUpdate:function(t){this._currentlyFetching=true;k.getNotifications(t,(function(u){var v=p(this._pendingNotifs)?u:this._getNotifsWithCurrentOrder(u),w={},x={};o(v).forEach(function(y){var z=y.alert_id;if(!this.state||!this.state.readState[z])w[z]=j.isRead(z);if(!this.state||!this.state.hiddenState[z])x[z]=i.isHidden(z);});this._currentlyFetching=false;this.setState({notifs:v,canFetchMore:k.canFetchMore()||k.getCount()!=Object.keys(v).length,readState:babelHelpers._extends({},this.state.readState,w),hiddenState:babelHelpers._extends({},this.state.hiddenState,x)});}).bind(this));},_fetchAndUpdateAll:function(){var t={};Object.keys(this._pendingNotifs).forEach((function(u){var v=i.isHidden(u);if(v!=this.state.hiddenState[u])t[u]=i.isHidden(u);}).bind(this));if(!p(t))this.setState({hiddenState:babelHelpers._extends({},this.state.hiddenState,t)});this._pendingNotifs={};this._fetchAndUpdate(k.getCount());},_fetchNextSet:function(){if(!this._currentlyFetching){var t=Object.keys(this.state.notifs).length;this._fetchAndUpdate(t+this.props.numPerPage);}},_onScrollAndUpdate:function(t){if(this._currentlyFetching||!this.state.canFetchMore)return;if(t)this._fetchNextSet();},_onChevronShow:function(){this.setState({showingChevron:true});},_onChevronHide:function(){this.setState({showingChevron:false});},_updateNotifInContainer:function(t){if(t.length>this.props.numPerPage){this._fetchAndUpdate(t.length);}else this._fetchNextSet();return;},componentDidUpdate:function(t){var u=j.getUnseenIDs();if(!p(this._pendingNotifs))u=u.filter((function(v){return !this._pendingNotifs[v];}).bind(this));if(u.length&&this.props.paused)m.markNotificationsAsSeen(u);if(!t.hasEverBeenOpened&&this.props.hasEverBeenOpened)this._updateNotifInContainer(u);if(t.paused&&!this.props.paused){this._shouldScroll=false;setTimeout(this._fetchAndUpdateAll,0);return;}},render:function(){var t=this.props.listRenderer;return (n.createElement(t,{hasEverBeenOpened:this.props.hasEverBeenOpened,paused:this.props.paused,tracking:this.props.tracking,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,businessID:this.props.businessID,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,notifs:this.state.notifs,afterScroll:this._onScrollAndUpdate,onChevronShow:this._onChevronShow,onChevronHide:this._onChevronHide,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this._shouldScroll,upsell:this.props.upsell||null,isRHC:this.props.isRHC}));}});f.exports=s;},null);
__d('FlexibleBlock.react',['LeftRight.react','React','cx','invariant','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l({left:true,right:true});function n(p){!(p.flex&&p.flex in o.FLEX)?k(0):undefined;!(p.children&&p.children.length===2)?k(0):undefined;}var o=i.createClass({displayName:'FlexibleBlock',render:function(){n(this.props);var p,q=this.props.children[0],r=this.props.children[1],s=this.props.flex==m.left,t;if(s){t=q;p=h.DIRECTION.right;}else{t=r;p=h.DIRECTION.left;}var u=i.createElement('div',{className:"_42ef"},t);return (i.createElement(h,babelHelpers._extends({},this.props,{direction:p}),s?u:this.props.children[0],s?this.props.children[1]:u));}});o.FLEX=m;f.exports=o;},null);
__d('NotificationURI',['BusinessURI.brands','URI','isFacebookURI','VideoPermalinkURI'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={localize:function(m){m=h(m);if(!j(m))return m.toString();var n=m.getSubdomain();return m.getUnqualifiedURI().getQualifiedURI().setSubdomain(n).toString();},snowliftable:function(m){if(!m)return false;m=new i(m);var n=m.getQueryData();return j(m)&&(k.isValid(m)||'fbid' in n);},isVaultSetURI:function(m){return this._areEquals(m,'/ajax/vault/sharer_preview.php');},isAlbumDraftRecoveryDialogURI:function(m){return this._areEquals(m,'/ajax/photos/upload/overlay/');},_areEquals:function(m,n){if(!m)return false;m=new i(m);return j(m)&&m.getPath()===n;},_startsWith:function(m,n){if(!m)return false;m=new i(m);return j(m)&&m.getPath().startsWith(n);}};f.exports=l;},null);
__d('ReadToggle.react',['React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'ReadToggle',propTypes:{isRead:l.bool.isRequired,onClick:l.func,readLabel:l.node,unreadLabel:l.node},getDefaultProps:function(){return {onClick:j};},render:function(){if(this.props.isRead){return (h.createElement('div',{'aria-label':this.props.readLabel,className:this._getClasses(),'data-hover':'tooltip','data-tooltip-alignh':'center',onClick:this.props.onClick}));}else return (h.createElement('div',{'aria-label':this.props.unreadLabel,className:this._getClasses(),'data-hover':'tooltip','data-tooltip-alignh':'center',onClick:this.props.onClick,role:'button',tabIndex:'0'}));},_getClasses:function(){return k(this.props.className,(!this.props.isRead?"_5c9q":'')+(this.props.isRead?' '+"_5c9_":''));}});f.exports=m;},null);
__d('NotificationListItem.react',['AsyncResponse','BizSiteIdentifier.brands','BanzaiLogger','CloseButton.react','Event','FlexibleBlock.react','ImageBlock.react','Keys','List.react','NotificationPhotoThumbnail','NotificationTokens','NotificationURI','NotificationUserActions','React','TextWithEntities.react','ReadToggle.react','Timestamp.react','VaultBoxURI','XUIButton.react','PopoverMenu.react','ReactXUIMenu','cx','invariant','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){if(c.__markCompiled)c.__markCompiled();var fa=ba.Item;function ga(ja,ka){return u.createElement('span',{className:'fwb'},ja);}function ha(ja){return !!(ja&&ja.id&&!ja.is_facebook_app);}var ia=u.createClass({displayName:'NotificationListItem',getInitialState:function(){return {showingOptions:false,negativeFeedbackConfirmation:null,canReportAsSpam:false,spamReportConfirmation:null,sendingFeedback:false,mayUndoHide:false,notifOptionConfirmation:null,isBizSite:i.isBizSite()};},_onKeyDownItem:function(ja){if(l.getKeyCode(ja.nativeEvent)==o.RETURN)this._markItemRead();},_markItemReadIfUnreadFromReadButton:function(){if(!this.props.isRead)t.setNextIsFromReadButton(true);this._markItemReadIfUnread();},_markItemReadIfUnread:function(){!this.props.isRead&&this._markItemRead();},_markItemRead:function(){t.markNotificationsAsRead([this.props.alert_id]);},_onFeedbackError:function(ja){h.defaultErrorHandler(ja);this.setState({sendingFeedback:false});},_onHideSuccess:function(ja){var ka=ja.getPayload();!ka.confirmation?da(0):undefined;this.setState({negativeFeedbackConfirmation:ka.confirmation,canReportAsSpam:ka.canReportAsSpam,sendingFeedback:false,showingOptions:true});},_onHideAppSuccess:function(ja){var ka=ja.getPayload(),la=ka.confirmation,ma=ka.canReportAsSpam;!la?da(0):undefined;this.setState({negativeFeedbackConfirmation:la,canReportAsSpam:ma,mayUndoHide:true,sendingFeedback:false,showingOptions:true});},_onSpamReportSuccess:function(ja){var ka=ja.getPayload().spamReportConfirmation;this.setState({negativeFeedbackConfirmation:null,spamReportConfirmation:ka,sendingFeedback:false});},_onHide:function(){t.markNotificationAsHidden(this.props.alert_id,this._onHideSuccess,this._onFeedbackError);this.setState({sendingFeedback:true,mayUndoHide:true});},_onShowSuccess:function(){this.setState({notifOptionConfirmation:null,negativeFeedbackConfirmation:null,sendingFeedback:false,showingOptions:false});},_onShow:function(){var ja=this.props.negative?this.props.negative.subscription_level:null;t.markNotificationAsVisible(this.props.alert_id,ja,this._onShowSuccess,this._onFeedbackError);this.setState({sendingFeedback:true});},_onReportSpam:function(){t.markNotificationAsSpam(this.props.alert_id,this._onSpamReportSuccess,this._onFeedbackError);this.setState({sendingFeedback:true});},_markAppAsHidden:function(){t.markAppAsHidden(this.props.alert_id,this.props.application.id,this._onHideAppSuccess,this._onFeedbackError);this.setState({sendingFeedback:true});},_markAppAsVisible:function(){t.markAppAsVisible(this.props.alert_id,this.props.application.id,(function(){this.setState({negativeFeedbackConfirmation:null,sendingFeedback:false,showingOptions:false,mayUndoHide:false});}).bind(this),this._onFeedbackError);this.setState({sendingFeedback:true});},_renderAttachedImage:function(ja){if(ja)return (u.createElement('img',{src:ja.uri,className:"_42td",'aria-hidden':true}));return u.createElement('span',null);},_getModifiedTrackingString:function(ja){return JSON.stringify(babelHelpers._extends({},JSON.parse(this.props.tracking),ja));},_onClickCloseButton:function(){if(this.props.useChevron){this.showCloseOptionOnMenuClose=true;}else this.setState({showingOptions:true});},_onCancelNegativeFeedback:function(){this.setState({showingOptions:false});},_getChevron:function(){if(!this.props.menu_options.length)return null;var ja="_1_0c"+(' '+"_55m9")+(this.props.chevronType==='persistent'?' '+"_51v8":''),ka=u.createElement(ba,null,this.props.menu_options?this.props.menu_options.map((function(ma){return (u.createElement(fa,{onclick:(function(){this._onClickNotifOption(ma.server_action);}).bind(this),key:ma.client_action+ma.server_action},u.createElement('div',{className:"_3-y-"},ma.text),u.createElement('div',{className:"_3-y_"},ma.subtext)));}).bind(this)):null),la=u.createElement('a',null,u.createElement(aa,{alignh:'right',menu:ka,className:ja,onShow:this._onChevronShow,onHide:this._onChevronHide},u.createElement('div',{className:"_1_0d"})));return la;},shouldComponentUpdate:function(ja,ka){return (this.props.visible!==ja.visible||this.props.isRead!==ja.isRead||this.props.timestamp!==ja.timestamp||this.props.paused!==ja.paused||this.state.showingOptions!==ka.showingOptions||this.state.sendingFeedback!==ka.sendingFeedback||this.state.canReportAsSpam!==ka.canReportAsSpam||this.state.spamReportConfirmation!==ka.spamReportConfirmation);},componentWillReceiveProps:function(ja){if(this.props.paused&&!ja.paused&&!this.props.visible&&this.state.mayUndoHide)this.setState({mayUndoHide:false});},_onChevronHide:function(){this.props.onChevronHide();this._logChevronEvent('close');if(this.showCloseOptionOnMenuClose){this.showCloseOptionOnMenuClose=false;this._turnOff();}},_turnOff:function(){var ja=ha(this.props.application)?this._markAppAsHidden:this._onHide;ja();},_onChevronShow:function(){this.props.onChevronShow();this._logChevronEvent('open');},_logChevronEvent:function(ja){var ka={event:ja,notif_type:this.props.notif_type,notif_id:parseInt(r.untokenizeIDs([this.props.alert_id])[0],10)};j.log('NotifJewelMenuLoggerConfig',ka);},_onNotifOptionSuccess:function(ja){this.setState({showingOptions:true,sendingFeedback:false,notifOptionConfirmation:ja});},_onClickNotifOption:function(ja){this.setState({sendingFeedback:true,mayUndoHide:true});t.sendNotifOption(this.props.alert_id,this._onNotifOptionSuccess,this._onFeedbackError,ja);},_undoNotifOption:function(ja){this.setState({sendingFeedback:true});t.undoNotifOption(this.props.alert_id,this._onShowSuccess,this._onFeedbackError,ja);},render:function(){if(!this.props.visible&&!this.state.mayUndoHide)return u.createElement('li',{className:"_4_62"});var ja=this.props.negative,ka=this.props.negativeTracking,la="_33c"+(!this.props.isRead?' '+"_4af":'')+(this.state.showingOptions?' '+"_4ag":'')+(this.state.sendingFeedback?' '+"_4m8s":'');if(this.state.negativeFeedbackConfirmation){var ma=this.state.negativeFeedbackConfirmation,na=null,oa=null;if(this.state.canReportAsSpam)if(!this.props.useChevron){na=u.createElement('span',null,u.createElement('span',{className:'mhs'},'Â·'),u.createElement('a',{href:'#',onClick:this._onReportSpam},ea._("App wegen Spam melden")));}else oa=u.createElement(p,{border:'none',spacing:'small',className:"_1v4c"},u.createElement('li',null,u.createElement('a',{href:'#',onClick:this._onReportSpam,className:'mls'},ea._("App wegen Spam melden"))));var pa=ha(this.props.application)?this._markAppAsVisible:this._onShow,qa=!this.props.useChevron?u.createElement('a',{href:'#',onClick:pa,className:'mls'},ea._("R\u00fcckg\u00e4ngig")):null;return (u.createElement('li',{className:la,'data-gt':this.props.tracking},u.createElement('div',{className:"_4ai"},u.createElement(v,{interpolator:ga,ranges:ma.ranges,aggregatedranges:ma.aggregated_ranges,text:ma.text}),qa,na),oa));}var ra=this.state.spamReportConfirmation;if(ra)return (u.createElement('li',{className:la,'data-gt':this.props.tracking},u.createElement('div',{className:"_4ai"},u.createElement(v,{interpolator:ga,ranges:ra.ranges,aggregatedranges:ra.aggregated_ranges,text:ra.text}))));if(this.state.notifOptionConfirmation){ma=this.state.notifOptionConfirmation;return (u.createElement('li',{className:la,'data-gt':this.props.tracking},u.createElement('div',{className:"_4ai"},u.createElement(v,{interpolator:ga,ranges:ma.ranges,aggregatedranges:ma.aggregated_ranges,text:ma.text&&ma.text.text?ma.text.text:''}),u.createElement('a',{href:'#',onClick:(function(){this._undoNotifOption(ma.undo_action);}).bind(this),className:'mls'},ea._("R\u00fcckg\u00e4ngig"))),u.createElement(p,{border:'none',spacing:'small',className:"_1v4c"},ma.follow_up_options.map?ma.follow_up_options.map((function(pb){return (u.createElement('li',{key:pb.client_action+pb.server_action},u.createElement('a',{onClick:(function(){this._onClickNotifOption(pb.server_action);}).bind(this),href:'#',className:'mls'},pb.subtext)));}).bind(this)):null)));}if(this.state.showingOptions&&!this.props.useChevron){var sa=ha(this.props.application)?this._markAppAsHidden:this._onHide;return (u.createElement('li',{className:la,'data-gt':this.props.tracking},u.createElement('div',{className:"_4ai"},u.createElement('div',null,u.createElement(v,{interpolator:ga,ranges:ja.confirm_question.ranges,aggregatedranges:ja.confirm_question.aggregated_ranges,text:ja.confirm_question.text})),u.createElement('div',{className:'mts'},u.createElement(z,{'data-gt':this._getModifiedTrackingString(ka.confirm),href:{url:'#'},label:ja.turn_off,use:'confirm',onClick:sa,disabled:this.state.sendingFeedback}),u.createElement(z,{'data-gt':this._getModifiedTrackingString(ka.cancel),href:{url:'#'},label:ea._("Aktiviert lassen"),onClick:this._onCancelNegativeFeedback,disabled:this.state.sendingFeedback})))));}var ta=null;if(this.props.title)ta=u.createElement(v,{interpolator:ga,ranges:this.props.title.ranges,aggregatedranges:this.props.title.aggregated_ranges,text:this.props.title.text,renderEmoji:true,renderEmoticons:true});var ua=null,va=null;if(ja){var wa=this._onClickCloseButton,xa;xa=this._getModifiedTrackingString(ka.click);var ya="_4ah"+(' '+"_55m9");ua=u.createElement(k,{className:ya,'data-gt':xa,size:'medium',tooltip:ja.button_tooltip,onClick:wa,ref:'closeButton'});}var za=s.localize(this.props.url),ab=null;if(!this.props.noPhotoPreviews)ab=q.getThumbnail(this.props.attachments,this.props.attached_story,this.props.feedback_context);var bb=ab&&s.snowliftable(za),cb=s.isVaultSetURI(za),db=s.isAlbumDraftRecoveryDialogURI(za),eb=(this.props.useChevron?"_55ma":'')+(' '+"_55m9"),fb=u.createElement(w,{className:eb,isRead:!!this.props.isRead,onClick:this._markItemReadIfUnreadFromReadButton,readLabel:ea._("Gelesen"),unreadLabel:ea._("Als gelesen markieren")}),gb=null;if(this.props.useChevron){ua=null;gb=this._getChevron();}var hb=bb||cb||db?za:this.props.ajaxify_url,ib=null,jb=null,kb=cb?y.getSyncedTabURI().toString():za;if(bb){ib='theater';}else if(db){ib='async-post';}else if(cb||hb)ib='dialog';var lb=null,mb=this.props.actors[0];if(mb)lb={backgroundImage:'url('+mb.profile_picture.uri+')'};var nb=false;this.props.attachments.forEach(function(pb){if(nb)return;nb=pb.style_list.indexOf('notification_target')>=0||pb.style_list.indexOf('question')>=0;if(nb)return;});var ob=u.createElement('div',null,fb,ua,gb);return (u.createElement('li',{className:la,'data-gt':this.props.tracking,onMouseLeave:va},u.createElement('div',{className:'anchorContainer'},u.createElement('a',{href:kb,ajaxify:hb,className:"_33e"+(this.props.useChevron?' '+"_1_0e":''),rel:ib,onClick:jb,onMouseDown:this._markItemRead,onKeyDown:this._onKeyDownItem},u.createElement(n,null,u.createElement('span',{style:lb,className:(!this.props.isNotifsPage?"_33h":'')+(this.props.isNotifsPage?' '+"_12u1":'')}),u.createElement(m,{flex:m.FLEX.left},u.createElement('div',{className:"_4l_v"},ta,u.createElement(n,{className:"_33f"+(this.state.isBizSite?' '+"_2g48":'')},u.createElement('img',{className:"_10cu",src:this.props.icon.uri}),u.createElement('span',null,u.createElement(x,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose,className:"_33g"})))),this._renderAttachedImage(ab)))),ob)));}});f.exports=ia;},null);
__d('NotificationJewelList.react',['Animation','Event','LoadingIndicator.react','NotificationListPropTypes','NotificationListItem.react','React','ReactDOM','ScrollableArea.react','Vector','cx','debounce','fbt','getObjectValues','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=160,w=530,x=40,y=64,z=430,aa=m.createClass({displayName:'NotificationJewelList',propTypes:k,_isLoadingIndicatorVisible:function(){var ba=this.refs.loading;if(!ba)return false;var ca=n.findDOMNode(this.refs.scrollable),da=p.getElementDimensions(ca).y;if(da===0)return false;var ea=p.getElementPosition(ca).y+da,fa=p.getElementPosition(n.findDOMNode(ba)).y;fa-=x;return fa<ea;},_calculateHeight:function(){var ba=p.getViewportDimensions().y,ca=Math.min(this.props.maxHeight||w,ba-v);if(this.props.upsell)return Math.max(ca-y,0);return ca;},_keepOnLoading:function(){if(this.isMounted())this.props.afterScroll(this._isLoadingIndicatorVisible());},_renderItems:function(){return t(this.props.notifs).map((function(ba){var ca=ba.alert_id;return (m.createElement(l,babelHelpers._extends({key:ca,visible:!this.props.hiddenState[ca],isRead:this.props.readState[ca],negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,useChevron:this.props.useChevron,chevronType:this.props.chevronType,onChevronShow:this.props.onChevronShow,onChevronHide:this.props.onChevronHide,paused:this.props.paused,parent:this},ba)));}).bind(this));},componentDidMount:function(){var ba=n.findDOMNode(this.refs.scrollable);i.listen(window,'resize',r((function(){if(!u(this.props.notifs))new h(ba).to('height',this._calculateHeight()+'px').duration(100).go();}).bind(this)));},componentDidUpdate:function(ba){if(this.props.paused&&!ba.paused)if(this.props.shouldScroll&&this.refs.scrollable)this.refs.scrollable.getArea().scrollToTop(false);setTimeout(this._keepOnLoading,0);},render:function(){var ba=this.props.notifs,ca=null,da=null,ea=z,fa=null;if(!u(ba)){ca=m.createElement('ul',{'data-gt':this.props.tracking},this._renderItems());da=this._calculateHeight();}else if(!this.props.canFetchMore)ca=m.createElement('div',{className:"_572e"},s._("Keine neuen Benachrichtigungen"));if(this.props.canFetchMore)fa=m.createElement(j,{color:'white',size:'small',ref:'loading',className:"_33i"});var ga=null;if(this.props.upsell){var ha=this.props.upsell.module;ga=m.createElement(ha,this.props.upsell.props);}var ia="_50-t"+(this.props.showingChevron?' '+"_2iy1":'');return (m.createElement('div',{className:ia},m.createElement(o,{ref:'scrollable',width:ea,height:da,fade:true,persistent:true,onScroll:r(this._keepOnLoading)},ca,fa),ga));}});f.exports=aa;},null);
__d('NotificationJewelListController',['NotificationList.react','NotificationJewelList.react','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m,n){'use strict';this.$NotificationJewelListController1=m;this.$NotificationJewelListController2=n;this.$NotificationJewelListController3=false;this.$NotificationJewelListController4=false;this.$NotificationJewelListController5();}l.prototype.open=function(){'use strict';this.$NotificationJewelListController3=true;this.$NotificationJewelListController5();};l.prototype.pause=function(){'use strict';this.$NotificationJewelListController4=true;this.$NotificationJewelListController5();};l.prototype.unpause=function(){'use strict';this.$NotificationJewelListController4=false;this.$NotificationJewelListController5();};l.prototype.$NotificationJewelListController5=function(){'use strict';k.render(j.createElement(h,{hasEverBeenOpened:this.$NotificationJewelListController3,paused:this.$NotificationJewelListController4,tracking:this.$NotificationJewelListController2.tracking,negativeTracking:this.$NotificationJewelListController2.negativeTracking,shortenTimestamp:this.$NotificationJewelListController2.shortenTimestamp,businessID:this.$NotificationJewelListController2.businessID,maxHeight:this.$NotificationJewelListController2.maxHeight,useChevron:this.$NotificationJewelListController2.useChevron,chevronType:this.$NotificationJewelListController2.chevronType,numPerPage:5,listRenderer:i,upsell:this.$NotificationJewelListController2.upsell||null}),this.$NotificationJewelListController1);};f.exports=l;},null);
__d('HashtagParser',['URLMatcher','getHashtagRegex'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=100,k=30,l=/@\[([0-9]+):([0-9]+):((?:[^\\\]]*(?:\\.)*)*)\]/g;function m(ea){var fa=z(ea),ga=0,ha=0;return o(ea).map(function(ia){while(ga<fa.length){var ja=fa[ga],ka=ja.offset-ha;if(ka<ia.offset){ha+=ja.token.length-ja.name.length;ga++;}else break;}return {marker:ia.marker,tag:ia.hashtag,rawOffset:ia.offset+ha,offset:ia.offset};});}function n(ea){return p(ea,u(ea));}function o(ea){var fa=ba(ea);return p(fa,q(ea,fa));}function p(ea,fa){return s(ea).slice(0,k).filter(function(ga){var ha=w(ga.offset,ga.hashtag.length,fa);return !ha&&ga.hashtag.length<=j;});}function q(ea,fa){return v(t(ea),u(fa));}var r=i();function s(ea){var fa=[];ea.replace(r,function(ga,ha,ia,ja,ka){fa.push({marker:ia,hashtag:ja,offset:ka+ha.length});});return fa;}function t(ea){return ca(ea).map(function(fa){return [fa.offset,fa.name.length];});}function u(ea){var fa=[],ga,ha=0;while(ga=h.permissiveMatch(ea)){var ia=ea.indexOf(ga);fa.push([ha+ia,ga.length]);ea=ea.substring(ia+ga.length);ha+=ia+ga.length;}return fa;}function v(ea,fa){var ga=[],ha=0,ia=0,ja=0;while(ha<ea.length&&ia<fa.length)if(ea[ha][0]>fa[ia][0]){ga[ja++]=fa[ia++];}else ga[ja++]=ea[ha++];return ga.concat(ea.slice(ha),fa.slice(ia));}function w(ea,fa,ga){if(!ga)return false;var ha=y(ga,ea);return x(ea,fa,ga,ha)||x(ea,fa,ga,ha+1);}function x(ea,fa,ga,ha){if(!ga[ha])return false;var ia=ga[ha][0],ja=ga[ha][1];return !(ea+fa-1<ia||ea>ia+ja-1);}function y(ea,fa){var ga=0,ha=ea.length-1;while(ga<=ha){var ia=Math.floor((ga+ha)/2),ja=ea[ia][0];if(ja==fa){return ia;}else if(ja<fa){ga=ia+1;}else ha=ia-1;}return ha;}function z(ea){var fa=[];ea.replace(l,function(ga,ha,ia,ja,ka){fa.push({token:ga,id:ha,type:ia,name:ja,offset:ka});});return fa;}function aa(ea){return ea?ea.replace(/\\([^\\])/g,'$1').replace(/\\\\/g,'\\'):null;}function ba(ea){return ea.replace(l,function(fa,ga,ha,ia,ja){return aa(ia);});}function ca(ea){var fa=0,ga=0;return z(ea).map(function(ha){var ia=ea.indexOf(ha.token,ga);ga=ia+1;ia-=fa;var ja=aa(ha.name);fa+=ha.token.length-ja.length;if(ia>=0)return {id:ha.id,name:ja,type:ha.type,offset:ia};});}var da={};da.parse=m;da.parseWithoutMentions=n;f.exports=da;},null);
__d("XQuickPromotionSimpleLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});},null,{});
__d('QPRenderer',['$','CSS','XQuickPromotionSimpleLoggingController','AsyncSignal'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=function(q,event,r){var s=j.getURIBuilder().setInt('qp_id',q).setString('qp_event',event).setStringToStringMap('qp_instance_log_data',r).getURI();new k(s,{}).send();},m=function(q,r,s){var t=j.getURIBuilder().setInt('qp_id',q).setEnum('qp_action',r).setStringToStringMap('qp_instance_log_data',s).getURI();new k(t,{}).send();},n=function(q,r,s,t,u,v){p(q,s,h(t),v,function(){if(u)i.hide(r);});},o=function(q,r,s){r.show();l(q,'view',{});r.subscribe('cancel',function(){l(q,'dialog_cancel',{});});for(var t=0;t<s.length;t++){var u=s[t],v=h(u.element_id);p(q,u.action,v,u.instance_log_data,function(){if(u.should_close)r.hide();});if(u.action=='primary')v.focus();}},p=function(q,r,s,t,u){s.addEventListener('click',function(){var v=j.getURIBuilder().setInt('qp_id',q).setEnum('qp_action',r).setStringToStringMap('qp_instance_log_data',t).getURI();new k(v,{}).send();u();});};g.setAction=n;g.setDialogActionsAndShow=o;g.logAction=m;g.logEvent=l;},null);
__d('FacebarResultStoreUtils',['FacebarGlobalOptions','FacebarJSConstants'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={getQueryFeatures:function(k){var l={};if(h.enableBootstrapRanking){if(k.raw_text)l.FEATURE_QUERY_LENGTH=k.raw_text.length;if(k.tokens){l.FEATURE_QUERY_TOKENS=k.tokens.length;l.FEATURE_QUERY_TOKEN_LENGTH_SUM=0;for(var m=0;m<k.tokens.length;m++)l.FEATURE_QUERY_TOKEN_LENGTH_SUM+=k.tokens[m].length;}}return l;},addFeatures:function(k,l,m,n,o,p){if(!k.features)return;k.features={FEATURE_QUERY_LENGTH:n.FEATURE_QUERY_LENGTH,FEATURE_QUERY_TOKENS:n.FEATURE_QUERY_TOKENS,FEATURE_QUERY_TOKEN_LENGTH_SUM:n.FEATURE_QUERY_TOKEN_LENGTH_SUM};k.features.FEATURE_IS_EXACT_NAME_MATCH=o;k.features.FEATURE_IS_STOP_WORD_MATCH=p;if(l&&l.length>0){var q=l.split(' ').length,r=0;for(var s=0;s<k.termMatches.length;++s)if(l.search(k.termMatches[s])>=0)r++;k.features.FEATURE_TITLE_TOKEN_MATCH_FRACTION=r/q;}if(m.tokens&&m.tokens.length>0){var t=l.search(m.tokens[0]);k.features.FEATURE_FIRST_TERM_MATCH_POSITION=t;k.features.FEATURE_FIRST_TERM_MATCH_TOKEN=l.substring(0,t+m.tokens[0].length).split(' ').length;k.termMatches.some(function(u){if(u.search(m.tokens[0])===0){k.features.FEATURE_FIRST_TERM_MATCH_TOKEN_FRACTION=m.tokens[0].length/u.length;return true;}return false;});k.features.FEATURE_IN_ORDER_MATCH=1;if(m.tokens.length>1){t=l.search(m.tokens[1]);k.features.FEATURE_SECOND_TERM_MATCH_POSITION=t;k.features.FEATURE_SECOND_TERM_MATCH_TOKEN=l.substring(0,t+m.tokens[1].length).split(' ').length;k.termMatches.some(function(u){if(u.search(m.tokens[1])===0){k.features.FEATURE_FIRST_TERM_MATCH_TOKEN_FRACTION=m.tokens[0].length/u.length;return true;}return false;});if(k.features.FEATURE_SECOND_TERM_MATCH_TOKEN<k.features.FEATURE_FIRST_TERM_MATCH_POSITION)k.features.FEATURE_IN_ORDER_MATCH=0;}}return k;},processEntityResult:function(k,l,m,n,o,p,q,r,s){var t={semantic:l.toString(),structure:[{type:k===i.keywordType?k:'ent:'+k,text:m,uid:l}],type:k,cost:n,cache_id_length:0,features:[]};t.tuid=JSON.stringify({semantic:t.semantic,structure:t.structure});if(h.enableBootstrapRanking){t.termMatches=q[l.toString()];t=this.addFeatures(t,m.toLowerCase(),o,p,r,s);}return t;},getRawTextFromStructured:function(k){var l=k.map(function(m){return m.getText();});return l.join('');},getTextFromResult:function(k){var l=k.structure,m='';l.forEach(function(n){m+=n.text;});return m;}};f.exports=j;},null);
__d('HashtagSearchResultUtils',['FacebarResultStoreUtils','HashtagParser','HashtagSearchResultConfig','URI','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={getHashtagFromQuery:function(n){var o=i.parse(n);if(o&&o.length===1&&o[0].offset===0)return o[0].tag;return false;},makeTypeaheadResult:function(n){var o=l._("Hashtag");return {category:o,path:new k('/hashtag/'+n).toString(),photo:j.image_url,rankType:null,replace_results:j.boost_result?true:false,scaled_score:1,score:0,text:'#'+n,type:'hashtag_exact',uid:'hashtag:'+n};},makeFacebarEntry:function(n){var o=l._("Hashtag");return {category:o,path:new k('/hashtag/'+n).toString(),photo:j.image_url,replace_results:j.boost_result?true:false,text:'#'+n,type:'hashtag_exact',uid:'hashtag:'+n};},makeFacebarResult:function(n){var o=h.processEntityResult('hashtag_exact','hashtag:'+n,'#'+n,j.hashtag_cost);o.parse={display:[{type:'ent:hashtag_exact',uid:'hashtag:'+n}],remTokens:[],suffix:''};o.tags={hashtag:'hashtag'};return o;}};f.exports=m;},null);
__d('ContextualHelpSearchController',['Event','AsyncRequest','DOM','CSS','Focus','Input'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=400;function o(){this._token=null;this._timerID=0;this._lastQuery=null;this.typing_listener=null;this.clear_listener=null;this.async_request=null;}Object.assign(o.prototype,{init:function(p,q,r,s,t,u){this.loader=p;this.search_box=q;this.topics_area=r;this.results_area=s;this.clear_button=t;this.typing_listener=h.listen(this.search_box,'keyup',this.setTimer.bind(this));this.clear_listener=h.listen(this.clear_button,'click',this.clearResults.bind(this));if(u==null||u.focusSearchBox==null||u.focusSearchBox)l.set(this.search_box);},source:'contextual_help',clearResults:function(){this.show(this.topics_area);this._lastQuery='';m.reset(this.search_box);l.set(this.search_box);if(this.async_request!==null){this.async_request.abort();this.async_request=null;}k.addClass(this.clear_button,'hidden_elem');},update:function(){var p=m.getValue(this.search_box);if(p===this._lastQuery)return;this._lastQuery=p;if(p===''){this.clearResults();return;}this.show(this.loader);var q={query:p,width:this._width||n,source:this.source};this.async_request=new i('/help/ajax/search/').setData(q).setHandler((function(r){this._update(r);}).bind(this));this.async_request.send();},_update:function(p){this.async_request=null;var q=p.getPayload().results;j.setContent(this.results_area,q);this.show(this.results_area);if(m.getValue(this.search_box)===''){this.clearResults();}else k.removeClass(this.clear_button,'hidden_elem');},setTimer:function(){if(this._timerID!==0)clearTimeout(this._timerID);this._timerID=setTimeout(this.update.bind(this),300);if(this.async_request!=null){this.async_request.abort();this.async_request=null;}},show:function(p){var q=[this.loader,this.topics_area,this.results_area];for(var r=0;r<q.length;r++)k.addClass(q[r],'hidden_elem');k.removeClass(p,'hidden_elem');}});f.exports=o;},null);
__d('JewelQPLogging',['QPRenderer'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=false,j=null,k=false;function l(){if(k)return;if(i&&j){h.logEvent(j.promotion_id,'view',j.instance_log_data?j.instance_log_data:{});k=true;}}var m={onJewelOpened:function(){i=true;l();},updateQPLogData:function(n){j=n;l();}};f.exports=m;},null);
__d('RequestsJewel',['Animation','AccessibilityLogger','Arbiter','AsyncRequest','AsyncSignal','ChannelConstants','CSS','DOM','Event','LinkController','Parent','ScrollableArea','Vector','$','debounce','ge','shield','fbt','JewelQPLogging','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=null;aa('FriendBrowserCheckboxController',function(ga){return ba=ga;});var ca=530,da=30,ea=160;Object.assign(fa,{instance:null,getInstance:function(){return fa.instance;},replaceJewelTitle:function(ga,ha){o.setContent(u(ga),ha);},updateFromDOM:function(){if(fa.instance)fa.instance.fromDom();},setInitialHeight:function(){if(fa.instance)fa.instance.setHeight();},maybeLoadJewel:function(){if(fa.instance)fa.instance.maybeLoadJewel();}});function fa(ga,ha,ia){'use strict';fa.instance=this;this.countNew=0;this.jewel=ga;this.jewelFlyoutCase=ga.getRoot();this.jewelFlyout=w('fbRequestsFlyout');this.newCountSpan=w('newRequestCount');this.folder=ha;this.doNewMarkRead=ia;this.openTimestamp=0;this.$RequestsJewel1={};this.$RequestsJewel2=0;this.shouldClearPredictionAssocOnClick=false;var ja=w('requestsMarkReadButton');if(ja)p.listen(ja,'click',x(this.$RequestsJewel3,this));this.jewel.subscribe('marked-seen',x(this.$RequestsJewel4,this));this.jewel.subscribe('closed',x(this.$RequestsJewel5,this));this.jewel.subscribe('updated',this.$RequestsJewel6.bind(this));this.jewel.subscribe('opened',this.$RequestsJewel7.bind(this));q.registerHandler(this.$RequestsJewel8.bind(this));j.subscribe(m.getArbiterType('jewel_requests_add'),this.$RequestsJewel9.bind(this));j.subscribe(m.getArbiterType('jewel_friending_notifs'),this.$RequestsJewel10.bind(this));j.subscribe(m.getArbiterType('jewel_requests_remove_old'),this.$RequestsJewel11.bind(this));j.subscribe(m.getArbiterType('friend_requests_seen'),this.$RequestsJewel12.bind(this));p.listen(this.jewelFlyout,'submit',(function(la){var ma=r.byClass(la.getTarget(),'objectListItem');if(ma){n.removeClass(ma,'jewelItemNew');n.addClass(ma,'jewelItemResponded');}}).bind(this));var ka=o.find(w('fbRequestsJewel'),'a[rel="toggle"]');p.listen(ka,'focus',(function(la){i.logFocusIn();}).bind(this));this.setupScroll();p.listen(window,'resize',v((function(){this.$RequestsJewel13();}).bind(this)));}fa.prototype.setupScroll=function(){'use strict';var ga=o.scry(this.jewelFlyout,'.uiScrollableAreaWrap')[0];if(ga){this.$RequestsJewel14=ga;this.$RequestsJewel15=0;this.$RequestsJewel16=p.listen(ga,'scroll',this.$RequestsJewel17.bind(this),p.Priority.$RequestsJewel18);}};fa.prototype.fromDom=function(){'use strict';o.scry(this.jewelFlyout,'.jewelItemList li.objectListItem').forEach((function(ga){var ha=ga.getAttribute('id');if(ha){var ia=w(ha+'_status'),ja=this.$RequestsJewel19(ha);if(ja.requester)this.$RequestsJewel1[ja.requester]=ha;++this.$RequestsJewel2;}}).bind(this));this.$RequestsJewel20();};fa.prototype.$RequestsJewel21=function(ga){'use strict';var ha=ga.match(/^(\d+)_(\d+)/);return ha?{requester:ha[1],type:ha[2]}:undefined;};fa.prototype.$RequestsJewel19=function(ga){'use strict';var ha=ga?this.$RequestsJewel21(ga):undefined,ia;if(ha&&ha.requester){ia=parseInt(ha.requester,10);if(isNaN(ia))ia=undefined;}var ja;if(ha&&ha.type){ja=parseInt(ha.type,10);if(isNaN(ja))ja=undefined;}return {requester:ia,type:ja};};fa.prototype.$RequestsJewel22=function(){'use strict';if(this.countNew>0)this.countNew-=1;};fa.prototype.$RequestsJewel8=function(ga,event){'use strict';var ha=r.byClass(ga,'jewelItemNew');if(ha&&r.byClass(ha,'fbRequestList')&&r.byClass(ha,'beeperEnabled')){var ia=this.$RequestsJewel21(ha.id);ia&&this.$RequestsJewel4(ia.requester,ia.type);this.$RequestsJewel22();j.inform('jewel/count-updated',{jewel:'requests',count:this.countNew});n.removeClass(ha,'jewelItemNew');}return true;};fa.prototype.$RequestsJewel23=function(){'use strict';return o.scry(this.jewelFlyout,'.uiScrollableArea')[0];};fa.prototype.$RequestsJewel17=function(){'use strict';var ga=o.scry(this.$RequestsJewel14,'.uiMorePager');if(!ga)return;var ha=ga.pop();if(ha){var ia=t.getElementPosition(ha,'viewport').y;if(ia>0)n.addClass(r.byClass(this.$RequestsJewel14,'uiScrollableArea'),'contentAfter');var ja=o.find(ha,'a');if(!ja)return;var ka=t.getElementPosition(ja,'viewport').y;if(ka==this.$RequestsJewel15)return;var la=t.getElementPosition(this.$RequestsJewel14,'viewport').y+t.getElementDimensions(this.$RequestsJewel14).y;if(ka-300<la&&ka>0){this.$RequestsJewel15=ka;var ma=ja.getAttribute('ajaxify');if(ma){new k(ma).setRelativeTo(ja).setStatusElement(r.byClass(ja,'stat_elem')).send();}else ba&&ba.getInstance('jewel').showMore();}}};fa.prototype.$RequestsJewel10=function(ga,ha){'use strict';if(!ha||this.jewel.isOpen())return;if(ha.obj.notif_type!=='friend_confirmed')return;if(w('fbRequestsJewelLoading')){new k().setURI('/ajax/requests/loader/').send();return;}var ia={};ia.reloadcontent=true;new k().setURI('/ajax/requests/loader/').setData(ia).send();};fa.prototype.$RequestsJewel9=function(ga,ha){'use strict';if(!ha)return;var ia=ha.obj.from,ja=ha.obj.suggester,ka=this.$RequestsJewel19(this.$RequestsJewel1[ia]).type,la=ka===19&&!ja;if(!la&&(ka||this.jewel.isOpen()))return;if(w('fbRequestsJewelLoading')){new k().setURI('/ajax/requests/loader/').send();}else{var ma={};ma.reloadcontent=true;new k().setURI('/ajax/requests/loader/').setData(ma).send();}};fa.prototype.$RequestsJewel11=function(ga,ha){'use strict';if(!ha||this.jewel.isOpen()||w('fbRequestsJewelLoading')!==null)return;var ia=this.$RequestsJewel1[ha.obj.from],ja=ia&&w(ia);if(ja){if(n.hasClass(ja,'jewelItemNew')){this.$RequestsJewel22();j.inform('jewel/count-updated',{jewel:'requests',count:this.countNew});}if(!n.hasClass(ja,'jewelItemResponded')){o.remove(ja);delete this.$RequestsJewel1[ha.obj.from];--this.$RequestsJewel2;this.$RequestsJewel20();}}};fa.prototype.$RequestsJewel3=function(){'use strict';this.jewel.markSeen();this.$RequestsJewel24();};fa.prototype.$RequestsJewel4=function(ga,ha){'use strict';var ia=o.scry(this.jewelFlyout,'li');new l('/ajax/gigaboxx/endpoint/UpdateLastSeenTime.php',{folder:this.folder,first_item:ia[0].id}).send();var ja=typeof ga!='undefined'&&typeof ha!='undefined'?{requester:ga,type:ha}:{};this.doNewMarkRead&&new l('/ajax/requests/mark_read/',ja).send();};fa.prototype.$RequestsJewel12=function(ga,ha){'use strict';j.inform('jewel/count-updated',{jewel:'requests',count:0});};fa.prototype.$RequestsJewel24=function(ga,ha){'use strict';o.scry(this.jewel.root,'li.jewelItemNew').forEach(function(ia){n.removeClass(ia,'jewelItemNew');});};fa.prototype.$RequestsJewel6=function(ga,ha){'use strict';this.countNew=ha.count;n.conditionClass(this.jewelFlyout,'beeperUnread',this.countNew>0);n.conditionClass(this.jewelFlyoutCase,'showRequests',this.countNew>0);if(this.newCountSpan){var ia=this.countNew==1?y._("{num} NEUE ANFRAGE",[y.param('num',this.countNew)]):y._({"*":"{num} NEUE ANFRAGEN"},[y.param('num',this.countNew,[0])]);o.setContent(this.newCountSpan,ia);}};fa.prototype.$RequestsJewel20=function(){'use strict';o.scry(this.jewelFlyout,'li.empty').forEach((function(ga){n.conditionShow(ga,this.$RequestsJewel2<=0);}).bind(this));};fa.prototype.$RequestsJewel7=function(){'use strict';j.inform('requestsJewel/opened');var ga=w('fbRequestsJewelLoading'),ha=this.$RequestsJewel23();if(!ga&&!ha){this.unhandledRequest=true;}else if(ga){var ia=Date.now();if(this.openTimestamp+5000<ia){this.openTimestamp=ia;new k().setURI('/ajax/requests/loader/').setData({log_impressions:true}).send();}}else{var ja=Object.keys(this.$RequestsJewel1);if(ja.length>0)new k().setURI('/friends/requests/log_impressions').setData({ids:ja.join(','),ref:'jewel'}).send();}ha&&s.poke(ha);z.onJewelOpened();};fa.prototype.$RequestsJewel5=function(){'use strict';j.inform('requestsJewel/closed');this.$RequestsJewel24();};fa.prototype.$RequestsJewel25=function(){'use strict';return Math.min(Math.max(t.getViewportDimensions().y-ea,da),ca);};fa.prototype.$RequestsJewel13=function(){'use strict';if(this.$RequestsJewel23())new h(this.$RequestsJewel23()).to('height',this.$RequestsJewel25()+'px').duration(100).go();};fa.prototype.setHeight=function(){'use strict';this.$RequestsJewel23().style.height=this.$RequestsJewel25()+'px';};fa.prototype.maybeLoadJewel=function(){'use strict';if(this.unhandledRequest){this.unhandledRequest=false;this.$RequestsJewel7();}};f.exports=fa;},null);
__d('JewelX',['Event','Arbiter','ArbiterMixin','CSS','DOM','HTML','Keys','Promise','TabIsolation','Toggler','Run','csx','emptyFunction','reportData'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=function(w,x){w&&x&&this.init(w,x);};Object.assign(v,{_instancesByName:{}});Object.assign(v.prototype,j,{init:function(w,x){this.name=x.name;this.root=w;this.badge=x.badge;this.countNew=0;this.initialCount=0;this.escHandler=null;this.bootload_module=x.bootload_module;this.bootload_args=x.bootload_args;this.bootloading=null;this.togglerInstance=q.getInstance(w).setSticky(false);r.onAfterLoad((function(){return this._setupBootload();}).bind(this));if(x.keepOpenForSnowlift)this.togglerInstance.setPrePageTransitionCallback(this._onPrePageTransition.bind(this));v._instancesByName[this.name]=this;var y=this.getFlyout(),z=new p(y);q.createInstance(y).setSticky(false);q.listen('show',this.root,(function(aa){this._logFirstClick();this.hasNew()&&this.markSeen();this.reset();i.inform('layer_shown',{type:'Jewel'});z.enable();this.setupEvents();return this._setupBootload().then((function(){this.inform('opened');}).bind(this));}).bind(this));q.listen('hide',this.root,(function(aa,ba){this.hasNew()&&this.markSeen();this.reset();this.inform('closed');i.inform('layer_hidden',{type:'Jewel'});z.disable();this.removeEvents();}).bind(this));i.subscribe('jewel/count-updated',(function(aa,ba){ba.jewel==this.name&&this.update(ba);}).bind(this));i.subscribe('jewel/focus',(function(aa,ba){if(this.isOpen())q.hide(this.root);}).bind(this));},getRoot:function(){return this.root;},getFlyout:function(){if(typeof this._flyout==='undefined')this._flyout=l.find(this.root,".__tw");return this._flyout;},hasNew:function(){return k.hasClass(this.root,'hasNew');},isOpen:function(){return k.hasClass(this.root,'openToggler');},reset:function(){k.removeClass(this.root,'hasNew');},setContent:function(w){var x=l.find(this.root,'ul.jewelItemList');l.setContent(x,m(w));},update:function(w){this.countNew=w.count;if(typeof this.countNew==='number'&&this.countNew<0)this.countNew=0;this.badge.setLegacyContent(this.countNew);var x=isNaN(this.countNew)||this.countNew>0;k.conditionClass(this.root,'hasNew',x);this.inform('updated',w);},setupEvents:function(){this.escHandler=h.listen(document.documentElement,'keydown',(function(w){if(w.keyCode===n.ESC&&this.isOpen())q.hide(this.root);}).bind(this));},removeEvents:function(){if(this.escHandler){this.escHandler.remove();this.escHandler=null;}},markSeen:function(){i.inform('jewel/count-updated',{jewel:this.name,count:0},i.BEHAVIOR_STATE);this.inform('marked-seen');},_onPrePageTransition:function(w,x){if(!this._isSnowliftURI(x.from)&&!this._isSnowliftURI(x.to))this.togglerInstance&&this.togglerInstance.hide();},_isSnowliftURI:function(w){return w&&w.getQueryData().hasOwnProperty('theater');},_logFirstClick:function(){this._logFirstClick=t;u('jewel_click',{gt:{count:this.countNew,initial:this.initialCount,jewel:this.name}});},_setupBootload:function(){if(!this.bootload_module)return o.resolve();if(!this.bootloading)this.bootloading=new o((function(w,x){this.bootload_module.load().then((function(y){new y(this,this.bootload_args);w();}).bind(this))['catch'](x);}).bind(this));return this.bootloading;}});f.exports=v;},null);
__d('LitestandNewsfeedCountUpdater',['Arbiter','AsyncRequest','LitestandMessages','NavigationMessage','WildWildWestJSGating','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p=0;function q(){o&&clearTimeout(o);if(n)return;var u=l.badge_update_time;o=setTimeout(r,u);}function r(){if(n)return;new i().setURI('/ajax/litestand/newsfeed_count').setHandler(function(u){if(n)return;s(u.getPayload());q();}).setAllowCrossPageTransition(true).send();}function s(u){h.inform(j.UPDATE_HOME_COUNT,{count:u,onHome:n},h.BEHAVIOR_STATE);if(l.show_badge_bk){h.inform(k.NAVIGATION_COUNT_UPDATE,{key:'nf',count:n?0:u-p});p=u;}}var t={init:function(){t.init=m;h.subscribe(j.NEWSFEED_LOAD,function(){n=true;s(0);});h.subscribe(j.LEAVE_HOME,function(){n=false;q();});q();}};f.exports=t;},null);
__d('LitestandChromeHomeCount',['Arbiter','CSS','DOM','Event','LitestandMessages','LitestandNewsfeedCountUpdater','Parent','UserAgent_DEPRECATED','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=20,s,t,u,v,w,x={init:function(y){w=y;t=j.find(document,"div._uaw ._5ahz");s=t.parentNode;u=n.byClass(s,"_1ayn");v=false;h.subscribe(l.UPDATE_HOME_COUNT,function(z,aa){x.updateBadge(aa.onHome?0:aa.count);});k.listen(u,'click',function(event){var z=event.getModifiers();if(z.shift||o.osx()&&z.meta||o.windows()&&z.control)x.updateBadge(0);});m.init();x.updateBadge(w);},updateBadge:function(y){w=y;var z=y>0;x.toggleBadge(z);if(z){var aa=y>r?r+'+':y;j.setContent(t,aa);}},toggleBadge:function(y){if(v===y)return;v=y;i.conditionClass(s,"_5ahy",!y);}};f.exports=x;},null);
__d('MercuryJewelModuleLoader',['JSResource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h('MercuryJewel');},null);
__d("RenderManager",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this._isDirty=false;this._obj=i;}h.prototype.dirty=function(){"use strict";if(!this._isDirty){this._isDirty=true;setTimeout(this._doPaint.bind(this),0);}};h.prototype._doPaint=function(){"use strict";this._isDirty=false;this._obj.paint();};f.exports=h;},null);
__d('CounterDisplay',['Arbiter','CSS','DOM','RenderManager','Run','$','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();function o(p,q,r,s,t,u){Object.assign(this,{_name:p,_valueNode:m(q),_wrapperNode:m(r)||null,_statusClass:t,_rm:new k(this),_arbiterSubscription:null,_count:0});var v=this._valueNode.firstChild;if(v){var w=parseInt(v.nodeValue,10);if(!isNaN(w))this._count=w;}this._statusNode=s?m(s):null;this._subscribeAll();o.instances.push(this);if(!u)l.onLeave(this._destroy.bind(this),true);}Object.assign(o,{EVENT_TYPE_ADJUST:'CounterDisplay/adjust',EVENT_TYPE_UPDATE:'CounterDisplay/update',instances:[],adjustCount:function(p,q){h.inform(o.EVENT_TYPE_ADJUST+'/'+p,q);},setCount:function(p,q){h.inform(o.EVENT_TYPE_UPDATE+'/'+p,q);}});Object.assign(o.prototype,{_destroy:function(){delete this._valueNode;delete this._wrapperNode;if(this._arbiterSubscription){this._arbiterSubscription.unsubscribe();delete this._arbiterSubscription;}n(o.instances,this);},adjustCount:function(p){this._count=Math.max(0,this._count+p);this._rm.dirty();return this;},setCount:function(p){this._count=Math.max(0,p);this._rm.dirty();return this;},paint:function(){j.setContent(this._valueNode,this._count);this._toggleNodes();},_toggleNodes:function(){if(this._wrapperNode)i.conditionClass(this._wrapperNode,'hidden_elem',this._count<=0);if(this._statusClass&&this._statusNode)i.conditionClass(this._statusNode,this._statusClass,this._count>0);},_subscribeAll:function(){var p=[o.EVENT_TYPE_ADJUST+'/'+this._name,o.EVENT_TYPE_UPDATE+'/'+this._name];this._arbiterSubscription=h.subscribe(p,this._onInform.bind(this),h.SUBSCRIBE_NEW);},_onInform:function(p,q){q=parseInt(q);if(isNaN(q))return;if(p.indexOf(o.EVENT_TYPE_ADJUST)!=-1){this.adjustCount(q);}else if(p.indexOf(o.EVENT_TYPE_UPDATE)!=-1){this.setCount(q);}else return;return;}});f.exports=o;},null);
__d('MessagingEvents',['Arbiter','ChannelConstants','arrayContains','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={},m=new h();function n(o){if(!k(l))return;for(var p in o)m.inform('count/'+p,o[p]);}m.subscribe('mark-as-read',function(o,p){(p.tids||p.chat_ids||[]).forEach(function(q){q=''+q;if(!(q in l)){l[q]=true;var r=function(){m.unsubscribe(s);clearTimeout(t);delete l[q];},s=m.subscribe('read',function(u,v){if(j(v.tids||[],q)||j(v.chat_ids||[],q))r();}),t=setTimeout(r,60000);}});});h.subscribe(i.getArbiterType('messaging'),function(o,p){var q=babelHelpers._extends({},p.obj),event=q.event||'';delete q.type;delete q.event;m.inform(event,q);if('unread_counts' in q){var r=q.unread_counts;n({unread:r.inbox,other_unseen:r.other});}});h.subscribe(i.getArbiterType('inbox'),function(o,p){var q=babelHelpers._extends({},p.obj);delete q.type;n(q);});b.MessagingEvents=f.exports=m;},3);
__d('TitanLeftNav',['CounterDisplay','MessagingEvents'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={initialize:function(){i.subscribe('count/other_unseen',function(k,l){h.setCount('other_unseen',l);});}};f.exports=j;},null);
__d('AccessibilityShortcut',['AccessibilityLogger','Event','Focus','ge','onEnclosingPageletDestroy','warning'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={init:function(o,p){var q=i.listen(o,'click',function(r){r.preventDefault();var s=k(p);if(s){j.set(s);h.logSRKey();}else m(s,'Failed to set focus on element with ID: %s',p);});l(o,function(){return q.remove();});}};f.exports=n;},null);
__d("isEmail",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/^[\w!#\$%&'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&'\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i;function i(j){return h.test(j);}f.exports=i;},null);
__d('NotificationJewelReminderLoader',['JSResource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={init:function(i){h('NotificationJewelReminder').load().done(function(j){new j(i);});}};},null);
__d('PagesVoiceBar',['$','Arbiter','AsyncRequest','BlueBar','ChannelConstants','DOM','URI','ViewportBounds'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p='PagesVoiceBar/initialized',q='PagesVoiceBar/switchVoice',r='page_transition',s='pages_voice_bar_sync',t=null,u=null,v=false,w=false,x=o.addTop(0);function y(ea,fa){new j('/ajax/pages/switch_voice.php').setData(fa).setHandler(function(ga){ca();}).send();}function z(){t=null;}function aa(ea,fa){if(fa.obj.profile_id&&fa.obj.profile_id===t)ca();}function ba(ea){i.subscribe(p,ea);}function ca(){n.getNextURI().go();}var da={initVoiceBar:function(){if(w)return;u=h('pagesVoiceBarContent');i.subscribe(q,y);i.subscribe(r,z);i.subscribe(l.getArbiterType(s),aa);w=true;v=m.contains(k.getBar(),u);i.inform(p,null,i.BEHAVIOR_STATE);},update:function(ea,fa){ba(function(){t=fa;m.setContent(u,ea);var ga=u.offsetHeight;if(!v&&x.getSize()!==ga){x.remove();x=o.addTop(o.getTop()+ga);}});}};f.exports=da;},null);
__d("XPrivacyCheckupSpawnDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/checkup\/dialog\/show\/",{source:{type:"Enum",enumType:1}});},null,{});
__d('PrivacyLiteFlyout',['Animation','Arbiter','ArbiterMixin','AsyncDialog','AsyncRequest','Banzai','CSS','DOM','Ease','Event','PrivacyConst','Style','SubscriptionsHandler','Toggler','XPrivacyCheckupSpawnDialogController','XPrivacyRemindersDismissController','csx','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa='PrivacyLiteFlyout/expandingSection',ba={},ca={};function da(ja,ka,la){var ma=ka?0:ja.offsetHeight;s.set(ja,'height',ma+'px');s.set(ja,'overflow','hidden');n.show(ja);var na=ka?ja.scrollHeight:0,oa=o.getID(ja);ba[oa]&&ba[oa].stop();ba[oa]=new h(ja).to('height',na).ondone(function(){ba[oa]=null;s.set(ja,'height','');s.set(ja,'overflow','');na||n.hide(ja);la();}).duration(Math.abs(na-ma)*1.5).ease(p.sineOut).go();}function ea(ja){var event='other_section';switch(ja){case 'who_can_see':case 'who_can_contact':case 'how_to_stop':event=ja;break;}return event;}var fa=null,ga=false,ha=false,ia=babelHelpers._extends({loadBody:function(){this._loadBody(false);},loadBodyFromMegaphone:function(){this._loadBody(true);},_loadBody:function(ja){if(!ga&&z('fbPrivacyLiteFlyoutLoading')){ga=true;new l('/ajax/privacy/privacy_lite/loader').setData({from_megaphone:ja}).send();}},_addListener:function(ja,event,ka){return q.listen(ja,'click',function(){m.post('privacy_lite',{event:event,exit_point:ka});});},addLoggingElem:function(ja,event,ka){var la=this._loggingElements.length,ma={elem:ja,event:event,exit:ka};this._loggingElements[la]=ma;},registerSettingsAndBasicsLinkLogging:function(ja,event,ka,la){var ma=o.scry(ja,"._5cw0")[0],na=o.scry(ja,"._3djx")[0];if(ma){this._settingsLinkListener&&this._settingsLinkListener.release();this._settingsLinkListener=this._addListener(ma,event,ka);}if(na){this._privacyBasicsLinkListener&&this._privacyBasicsLinkListener.release();this._privacyBasicsLinkListener=this._addListener(na,event,la);}},_subscribeListeners:function(){this._loggingElements&&this._loggingElements.forEach(function(ja){this._subscriptions&&this._subscriptions.addSubscriptions(this._addListener(ja.elem,ja.event,ja.exit));},this);},renderBody:function(ja,ka){var la=z('fbPrivacyLiteFlyoutLoading');if(la){o.replace(la,ja);ia.registerCallback(function(){ia.inform('load',null,i.BEHAVIOR_STATE);},ka);}},hideCleanup:function(ja){i.inform(aa);var ka=o.scry(ja,"._2va0").forEach(function(la){n.removeClass(la,"_2va0");});},registerFlyoutToggler:function(ja,ka,la){this._loggingElements=[];fa=ka;var ma=u.createInstance(ja);ma.setSticky(false);u.listen(['show','hide'],ka,(function(na){ia.inform(na);ha=na==='show';if(!ha){ia.hideCleanup(ja);ma.hide();this._subscriptions&&this._subscriptions.release();this._subscriptions=null;i.inform('layer_hidden',{type:'PrivacyShortcutsFlyout'});}else{i.inform('layer_shown',{type:'PrivacyShortcutsFlyout'});if(la){la.start(this);la=null;}i.subscribeOnce(aa,(function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=new t();this._subscribeListeners();}).bind(this));m.post('privacy_lite',{event:'show_flyout',exit_point:null});}}).bind(this));},isFlyoutVisible:function(){return fa&&u.getActive()===fa;},exists:function(){return !!o.scry(document.body,"._59fc")[0];},setFlyoutVisible:function(ja){ja?u.show(fa):u.hide(fa);},showSection:function(ja){var ka=ca[ja];if(!ka)return;if(!ka.sublist_container){ia.inform('expanded',ja,i.BEHAVIOR_STATE);return;}var la=ka.chevron,ma=ka.sublist_container;i.inform(aa,la);if(ia.inform('expand',ja)!==false){n.removeClass(la,"_9or");n.addClass(la,"_9os");da(ma,true,function(){ia.inform('expanded',ja);});}},hideSection:function(ja,ka,la){var ma=ca[ja],na=ma.chevron,oa=ma.sublist_container;if(la===na)return;if(ia.inform('collapse',ja)!==false){n.addClass(na,"_9or");n.removeClass(na,"_9os");da(oa,false,function(){ia.inform('collapsed',ja);});}},toggleSection:function(ja){var ka=ca[ja].chevron;u.getInstance(ka).hide();if(n.hasClass(ka,"_9or")){ia.showSection(ja);m.post('privacy_lite',{event:ea(ja)+'_expand',exit_point:null});new l('/ajax/privacy/privacy_lite/log_section_expand').setData({section:ja}).send();}else{ia.hideSection(ja);m.post('privacy_lite',{event:ea(ja)+'_collapse',exit_point:null});}},registerSection:function(ja,ka){ca[ja]=ka;if(ka.sublist_container){i.subscribe(aa,ia.hideSection.bind(null,ja));q.listen(ka.section_block,'click',ia.toggleSection.bind(null,ja));}ia.inform(ja);},registerInlineHelpOnAudienceChangeNewSelector:function(ja,ka,la,ma){ja=ja.getInstance();ja.subscribe('changed',(function(na){this._registerInlineHelpOnAudienceChange(ka,la,ma,ja.getSelectedBaseValue());}).bind(this));},registerSelectorLogging:function(ja,ka,la,ma){ja=ja.getInstance();ja.subscribe('open',function(){m.post('privacy_lite',{event:ka,exit_point:null});});ja.subscribe('close',function(){m.post('privacy_lite',{event:la,exit_point:null});});ja.subscribe('changed',function(){m.post('privacy_lite',{event:ma,exit_point:null});});},_registerInlineHelpOnAudienceChange:function(ja,ka,la,ma){var na=o.find(ja,"._9o_"),oa=o.find(ja,"._2v9_");if(la){var pa=o.find(ja,"._5n9w"),qa=ma==r.BaseValue.EVERYONE;n.conditionShow(pa,qa);n.conditionShow(na,!qa);if(pa&&qa){var ra=w.getURIBuilder().setString('type','delta_everyone').setBool('log_plite',true).getURI();new l(ra).send();}}else n.show(na);n.hide(oa);if(ka)new l('/ajax/privacy/privacy_lite/kill_intro').send();},registerInlineHelpXOutOnClick:function(ja,ka,la){q.listen(ja,'click',function(){n.addClass(ka,"_9p0");});},registerBlockUnhideOnFocus:function(ja,ka){q.listen(ja,'focus',(function(la){n.show(la);m.post('privacy_lite',{event:'block_user_input_click',exit_point:null});}).bind(this,ka));},registerMessageFilterSettingOnClick:function(ja,ka){var la=o.find(ja,"._fv0");q.listen(ja,'click',function(){if(la.checked){new l('/ajax/mercury/change_filtering_type.php').setData({filtering_type:ka,source:'privacy_lite'}).send();}else{var event='basic_filtering';if(ka==='strict')event='strict_filtering';m.post('privacy_lite',{event:event,exit_point:null});}});},registerPrivacyCheckupListener:function(ja){q.listen(ja,'click',(function(){this.setFlyoutVisible(false);k.send(new l(v.getURIBuilder().setEnum('source','plite').getURI()));m.post('privacy_lite',{event:'exit_flyout',exit_point:'privacy_checkup'});}).bind(this));},displayPrivacyCheckup:function(ja){ja.show();}},j);f.exports=ia;},null);
__d('PrivacyLiteFlyoutHelp',['Event','Arbiter','AsyncRequest','Banzai','ContextualHelpSearchController','CSS','DOM','Parent','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;function t(u,v,w,x,y){this._width=315;s=n.find(v,'input');var z=n.create('div');this.init(u,s,z,w,x,{focusSearchBox:false});r=o.byClass(v,"_8-a");h.listen(y,'click',(function(){this._hideSearch(this);k.post('privacy_lite',{event:'plite_search_collapse',exit_point:null});}).bind(this));i.subscribe('PrivacyLiteFlyout/expandingSection',this._hideSearch.bind(this));var aa=n.scry(r,"._d1r")[0];aa&&h.listen(aa,'click',(function(){m.addClass(r,"_aw6");s.focus();k.post('privacy_lite',{event:'plite_search_expand',exit_point:null});if(!this.suggestedResults)new j('/ajax/privacy/privacy_lite/help_suggestions').setHandler((function(ba){var ca=ba.getPayload().searchSuggestions,da=n.find(r,"._4_8m");n.setContent(da,ca);m.addClass(r,"_4_8l");}).bind(this)).send();}).bind(this));}Object.assign(t.prototype,new l(),l.prototype,{source:'privacy_shortcuts',_hideSearch:function(){this.clearResults();m.removeClass(r,"_aw6");},show:function(u){if(u===this.topics_area){m.removeClass(r,"_aw7");return;}else if(u===this.loader){m.addClass(r,"_aw7");m.hide(this.results_area);}else m.hide(this.loader);m.show(u);}});f.exports=t;},null);
__d('ViewasChromeBar',['Event','Arbiter','AsyncRequest','CSS','DOM','Focus','ModalMask','PageTransitionsRegistrar','Parent','cx','csx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s='ViewasChromeBar/initialized',t=null,u=false;function v(y){i.subscribe(s,y);}function w(y){k.addClass(y,"_7g7");var z=l.find(y,"._7g0");m.set(l.find(z,'.textInput'));}var x={initChromeBar:function(y){if(u)return;t=y;u=true;i.inform(s,null,i.BEHAVIOR_STATE);},update:function(y,z){v(function(){l.setContent(t,y);if(z)new j('/ajax/privacy/glasgow/viewas_bar_flyout_open').send();});},registerSpecificModeOnClick:function(y){h.listen(y,'click',w.bind(null,p.byClass(y,"_7f-")));},registerFlyoutModalMask:function(){n.show();o.registerHandler(n.hide,10);}};f.exports=x;},null);
__d('SearchSingleState',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l,m,n){return {classNames:'grammar',groupIndex:0,indexInGroup:k,path:l,text:m,type:'grammar',uid:n};}var j={getSuggestions:function(k,l,m){if(m==='ent:user'){return this.getSuggestionsForUser(k,l);}else if(m==='ent:page'){return this.getSuggestionsForPage(k,l);}else if(m==='ent:app'){return this.getSuggestionsForApp(k,l);}else if(m==='ent:group')return this.getSuggestionsForGroup(k,l);},getSuggestionsForUser:function(k,l){return [i(0,'/search/'+k+'/photos-of',h._("Fotos von {full name}",[h.param('full name',l)]),'photos_of_user'),i(1,'/search/'+k+'/friends',h._("Freunde von {full name}",[h.param('full name',l)]),'friends_of_user'),i(2,'/search/'+k+'/pages-liked',h._("Lieblingsseiten von {full name}",[h.param('full name',l)]),'pages_liked_user'),i(3,'/search/str/'+l+'/users-named',h._("finde alle Menschen mit dem Namen \u201e{full name}\u201c",[h.param('full name',l)]),'people_named_text')];},getSuggestionsForPage:function(k,l){return [i(0,'/search/'+k+'/photos-of',h._("Fotos von {name of page}",[h.param('name of page',l)]),'photos_of_page'),i(1,'/search/'+k+'/likers',h._("Personen, denen {name of page} gef\u00e4llt",[h.param('name of page',l)]),'page_likers'),i(2,'/search/str/'+l+'/pages-named',h._("finde alle Seiten mit dem Namen \u201e{name of page}\u201c",[h.param('name of page',l)]),'pages_named_text')];},getSuggestionsForGroup:function(k,l){return [i(0,'/search/'+k+'/members',h._("Mitglieder von {name of group}",[h.param('name of group',l)]),'members_of_group'),i(1,'/search/'+k+'/photos-in',h._("Fotos in {name of groups}",[h.param('name of groups',l)]),'photos_in_group'),i(2,'/search/'+k+'/creators',h._("\u201e{name of group}\u201c-Ersteller",[h.param('name of group',l)]),'creators_of_group'),i(3,'/search/'+k+'/admins',h._("{name of group} Administratoren",[h.param('name of group',l)]),'admins_of_group')];},getSuggestionsForApp:function(k,l){return [i(0,'/search/'+k+'/apps-similar-to',h._("\u00c4hnlich wie {name of app}",[h.param('name of app',l)]),'similar_apps'),i(1,'/search/'+k+'/app-users',h._("Personen, die {name of app} verwenden",[h.param('name of app',l)]),'app_users'),i(2,'/search/str/'+l+'/pages-named',h._("finde alle Apps mit dem Namen \u201e{name of page}\u201c",[h.param('name of page',l)]),'apps_named_text')];}};f.exports=j;},null);
__d('SearchDataSource',['Event','Arbiter','AsyncResponse','DataSource','HashtagSearchResultUtils','createArrayFromMixed','PageTransitionsRegistrar','SearchSingleState','UnicodeCJK','FacebarJSConstants','debounce','errorCode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u,v=100,w='/typeahead/search/facebar/nullstate/';t=babelHelpers.inherits(x,k);u=t&&t.prototype;function x(y){'use strict';u.constructor.call(this,y);this._token=y.token||'';this._lazyonload=y.lazyonload===false?false:true;this._extraTypes=y.extraTypes;this._buckets=y.buckets;this._noMultiFetch=y.noMultiFetch||false;this._nullStateConfig=y.nullStateConfig||{};var z=y.maxResults||8;this._numResults={min:3,max:z};this.recordingRoute='non_banzai';this._enabledHashtag=y.enabledHashtag||false;this.logBackendQueriesWindow=y.logBackendQueriesWindow||25;this._genTime=y.genTime;this._bootstrapError=false;this._hasKeywordBootstrap=y.hasKeywordBootstrap||false;this._addJoinedTermsMatching=y.addJoinedTermsMatching||false;this.cacheUnicodeMatch.setConfigs({prefix_hangul_conjoining_jamo:true,prefix_kana_drop_trailing_latin:y.cjkDropLatinInCjTokens,prefix_kana_hiragana_to_katakana:y.cjkUiCacheHiraganaToKatakana,search_i18n_prefix_arabic_normalization:y.arabicNormalization});this.backendUnicodeMatch.setConfigs({prefix_kana_drop_trailing_latin:y.cjkDropLatinInCjTokens});}x.prototype.init=function(){'use strict';u.init.call(this);this._leanPayload=null;this._bootstrapRequestsPending=0;this._criticalOnly=true;this._updateMaxResults();var y=r(this._updateMaxResults,v,this,true);h.listen(window,'resize',y);if(this._nullStateConfig.prefetchNullState)this.fetchNullState('');if(this._nullStateConfig.singleState)i.subscribe('page_transition',this.handlePageTransition.bind(this));if(this._nullStateConfig.prefetchNullState||this._nullStateConfig.singleState)i.subscribe('search/updateNullState',this.updateNullState.bind(this));if(this._nullStateConfig.recent)i.subscribe('search/refreshRecentSearchesNullstate',this.refreshRecentSearches.bind(this));};x.prototype.refreshRecentSearches=function(){'use strict';this.nullStateData=null;};x.prototype.handlePageTransition=function(){'use strict';this.nullStateParams={};};x.prototype.updateNullState=function(event,y){'use strict';this.nullStateParams=y;this.fetchNullState();};x.prototype.markResultsAsNullState=function(y){'use strict';if(y)for(var z=y,aa=Array.isArray(z),ba=0,z=aa?z:z[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ca;if(aa){if(ba>=z.length)break;ca=z[ba++];}else{ba=z.next();if(ba.done)break;ca=ba.value;}var da=ca;da.isNullState=true;}};x.prototype.markResultsAsSingleState=function(y){'use strict';if(y)for(var z=y,aa=Array.isArray(z),ba=0,z=aa?z:z[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ca;if(aa){if(ba>=z.length)break;ca=z[ba++];}else{ba=z.next();if(ba.done)break;ca=ba.value;}var da=ca;da.isSingleState=true;}};x.prototype.fetchNullState=function(y){'use strict';this.lastNullOrSingleStateFetchStartTime=Date.now();if(!this._nullStateConfig.hasNullState)return;var z=null;if(this.nullStateParams&&this.nullStateParams.uid){this.nullStateParams.query=y||'';z=this._fetchDataForSingleState();this.markResultsAsNullState(z);}else{z=this._fetchDataForNullState();this.markResultsAsSingleState(z);}if(z)this.inform('respond',{value:this.nullStateParams?this.nullStateParams.query:'',results:z,isAsync:false,nullState:true});};x.prototype._fetchDataForSingleState=function(){'use strict';if(this.nullStateDataWithProfile&&this.nullStateParams.uid===this.nullStateDataWithProfile.profileID)return this.nullStateDataWithProfile.data;if(this.nullStateParams.type==='ent:app'||this.nullStateParams.type==='ent:group'||this.nullStateParams.type==='ent:page'){this.fetch(w,{profile_id:this.nullStateParams.uid,ent_type:this.nullStateParams.type},{singleState:true});this.nullStateDataWithProfile={profileID:this.nullStateParams.uid};return;}var y=o.getSuggestions(this.nullStateParams.uid,this.nullStateParams.text,this.nullStateParams.type);if(!y)return this._fetchDataForNullState();this.nullStateDataWithProfile={data:y,profileID:this.nullStateParams.uid};return y;};x.prototype._shouldRefreshNullState=function(){'use strict';if(!this._nullStateConfig.recent)return false;var y=window.location.href;if(!y)return false;if(y.contains('allactivity')&&y.contains('log_filter=search'))return true;return false;};x.prototype._fetchDataForNullState=function(){'use strict';if(this.nullStateData&&!this._shouldRefreshNullState()){this.markResultsAsNullState(this.nullStateData);setTimeout((function(){this.inform('respond',{value:'',results:this.nullStateData,isAsync:true,nullState:true});}).bind(this),0);return;}if(!this.fetchingNullState){this.fetchingNullState=true;this.fetch(w,{value:""},{nullState:true,value:''});}return null;};x.prototype.dirty=function(){'use strict';u.dirty.call(this);this._bootstrapError=false;this._fetchOnUseRequests=[];};x.prototype.asyncErrorHandler=function(y,z){'use strict';if(z.nullState)this.fetchingNullState=false;if(z.bootstrap)this._bootstrapError=true;this.inform('fetchError',{response:y,fetch_context:z});if(window.Dialog&&window.Dialog.getCurrent()==null&&y.getError()==1400003)j.verboseErrorHandler(y);};x.prototype.fetch=function(y,z,aa){'use strict';aa=aa||{};aa.fetch_start=Date.now();var ba=n.getMostRecentURI().path;z=babelHelpers._extends({},z,{path:ba});u.fetch.call(this,y,z,aa);};x.prototype.fetchHandler=function(y,z){'use strict';if(z.nullState){this.fetchingNullState=false;this.nullStateData=y.getPayload().entries;this.markResultsAsNullState(this.nullStateData);this.inform('respond',{value:'',results:this.nullStateData,isAsync:true,nullState:true});return;}if(z.singleState){this.nullStateDataWithProfile.data=y.getPayload().entries;this.markResultsAsSingleState(this.nullStateDataWithProfile.data);this.inform('respond',{results:this.nullStateDataWithProfile.data,isAsync:true,value:this.nullStateParams?this.nullStateParams.query:'',nullState:true});return;}var aa=y.getPayload(),ba=babelHelpers._extends({fetch_end:Date.now()},z),ca=ba.value?i.BEHAVIOR_EVENT:i.BEHAVIOR_PERSISTENT;this.inform('beginFetchHandler',{response:y});if(z.bootstrap)this._bootstrapError=false;if(z.type=='lean'){this._leanPayload=aa;this._processLean();}else{if(aa.coeff2_ts)ba.coeff2_ts=aa.coeff2_ts;u.fetchHandler.call(this,y,z);if(z.bootstrap&&!y.getRequest().getData().no_cache)ba.browserCacheHit=aa.timestamp<this._genTime;if(z.bootstrap&&!aa.no_data&&this._bootstrapRequestsPending>0){z.bootstrap=false;--this._bootstrapRequestsPending;!this._bootstrapRequestsPending&&this._bootstrapPostProcess();}if(aa.no_data||aa.stale||aa.token!==this._token){var da=babelHelpers._extends({},y.getRequest().getData());if(da.lazy){delete da.lazy;da.token=this._token;this._fetchOnUse(da,z);}}}this.inform('endpointStats',{info:ba,response:y},ca);if(z&&!!z.value)this.inform('completeFetch',{response:y,stats:ba});};x.prototype.respond=function(y,z,aa){'use strict';this.inform('respondValidUids',z);this.inform('reorderResults',z);var ba=this.buildData(z,y);ba.forEach(function(ca,da){ca.origIndex=da;ca.fromCache=!aa;});this.inform('respond',{value:y,results:ba,isAsync:!!aa});return ba;};x.prototype.buildData=function(y,z){'use strict';if(!y||y.length===0)return [];var aa=y.map(this.getEntry,this);aa.length=Math.min(aa.length,this._maxResults);return aa;};x.prototype.fetchLean=function(){'use strict';this._fetchLean();};x.prototype._isQueryTooShort=function(y){'use strict';return y.length<this._minQueryLength&&!this._performShortQuery&&!p.hasIdeoOrSyll(y);};x.prototype.shouldFetchMoreResults=function(y){'use strict';return y.length<this._maxResults;};x.prototype._bootstrapPostProcess=function(){'use strict';var y=0;for(var z in this._data)if(this._data.hasOwnProperty(z))y++;this.inform('bootstrapped',{time:Date.now(),size:y},i.BEHAVIOR_PERSISTENT);this._processLean();};x.prototype._processLean=function(){'use strict';if(this._leanPayload){var y,z=this._leanPayload.entries;for(var aa in z){y=this.getEntry(aa);y&&(y.index=z[aa]);}this.setExclusions(this._leanPayload.blocked);this._leanPayload=null;}};x.prototype._updateMaxResults=function(){'use strict';var y=window.innerHeight||document.documentElement.clientHeight;this.setMaxResults(Math.max(this._numResults.min,Math.min(this._numResults.max,Math.ceil(2+(y-370)/56))));};x.prototype._bootstrapFetch=function(y,z){'use strict';var aa=babelHelpers._extends({},z,this.bootstrapData);if(this._criticalOnly&&this._lazyonload)aa.lazy=1;this.fetch(this.bootstrapEndpoint,aa,{bootstrap:true,type:y});++this._bootstrapRequestsPending;};x.prototype._fetchOnUse=function(y,z){'use strict';for(var aa in this.bootstrapData)!y.hasOwnProperty(aa)&&(y[aa]=this.bootstrapData[aa]);if(this._criticalOnly){this._fetchOnUseRequests.push({args:y,ctx:z});}else this.fetch(this.bootstrapEndpoint,y,z);};x.prototype._fetchLean=function(){'use strict';var y={no_cache:1};y.options=m(y.options);y.options.push('lean');this._fetchOnUse(y,{type:'lean'});};x.prototype.bootstrap=function(y){'use strict';if(!y){this._criticalOnly=false;this._flushFetchOnUseRequests();}if(this._bootstrapped)return;var z={filter:['event'],no_cache:1};this._fetchOnUse(z,{type:'event'});var aa=['app','page','group','friendlist'];aa=aa.concat(this._extraTypes||[]);var ba=[];if(this._hasKeywordBootstrap)ba.push(q.keywordType);if(this._noMultiFetch){aa.push('user');aa=aa.concat(ba);this._bootstrapFetch('user',{filter:aa});}else{this._bootstrapFetch('other',{filter:aa});if(this._buckets){for(var ca=0;ca<this._buckets.length;++ca){var da={filter:['user'],buckets:this._buckets[ca]};this._bootstrapFetch('user',da);}}else this._bootstrapFetch('user',{filter:['user']});if(ba.length>0)this._bootstrapFetch('keyword',{filter:ba});}this._fetchLean();this._bootstrapped=true;};x.prototype.getBootstrapError=function(){'use strict';return this._bootstrapError;};x.prototype._flushFetchOnUseRequests=function(){'use strict';var y=this._fetchOnUseRequests.length;for(var z=0;z<y;++z){var aa=this._fetchOnUseRequests[z];this.fetch(this.bootstrapEndpoint,aa.args,aa.ctx);}if(y>0)this.inform('extra_bootstrap',{time:Date.now()},i.BEHAVIOR_PERSISTENT);this._fetchOnUseRequests=[];};x.prototype.onLoad=function(y,z){'use strict';this.inform('onload',{time:Date.now()},i.BEHAVIOR_PERSISTENT);if(y)setTimeout(this.bootstrap.bind(this,z),0);};x.prototype.mergeUids=function(y,z,aa,ba){'use strict';var ca=this.getDynamicHashtagResult(ba);if(ba&&ca&&z.indexOf(ca)<=0)z.unshift(ca);var da=aa[0]?this.getEntry(aa[0]):null,ea=z[0]?this.getEntry(z[0]):null,fa=da&&da.replace_results?da:null;fa=!fa&&ea&&ea.replace_results?ea:fa;var ga=u.mergeUids.call(this,y,z,aa,ba);if(fa){this.inform('backend_topreplace',{});return this.deduplicateByKey([fa.uid].concat(ga));}return ga;};x.prototype.getTextToIndexFromFields=function(y,z){'use strict';var aa=[],ba=y.tokenVersion==="v2";for(var ca=0;ca<z.length;++ca){if(ba&&(z[ca]==="text"||z[ca]==="alias"))continue;var da=y[z[ca]];if(da){da=da.join?da.join(' '):da;aa.push(da);if(z[ca]=='text'&&this._addJoinedTermsMatching){da=da.toLowerCase();da=da.replace(/ /g,'');aa.push(da);}}}return aa.join(' ');};x.prototype.getDynamicHashtagResult=function(y){'use strict';if(!y||!this._enabledHashtag)return;var z=l.getHashtagFromQuery(y);if(!z)return;var aa='hashtag:'+z,ba=this.getEntry(aa);if(!ba)this.processEntries([l.makeTypeaheadResult(z)],y);return aa;};f.exports=x;},null);
__d('legacy:SearchDataSource',['SearchDataSource'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.SearchDataSource=c('SearchDataSource');},3);
__d('SearchTypeaheadCore',['Arbiter','DOM','Event','Input','Keys','Parent','ScriptPath','TypeaheadCore'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;p=babelHelpers.inherits(r,o);q=p&&p.prototype;function r(s){'use strict';q.constructor.call(this,s);}r.prototype.init=function(s,t,u){'use strict';q.init.call(this,s,t,u);var v=m.byTag(u,'form'),w=this.reset.bind(this);h.subscribe('pre_page_transition',function(event,y){var z=/^\/search/,aa=z.test(y.from.path),ba=z.test(y.to.path);if(aa&&!ba)setTimeout(w,0);});if(v){var x=i.find(v,'input.search_sid_input');j.listen(v,'submit',(function(){if(this.data&&this.data.queryData)x.value=this.data.queryData.sid;setTimeout(w,0);}).bind(this),j.Priority.URGENT);}};r.prototype.select=function(){'use strict';this.reset();this.element.focus();setTimeout((function(){this.element.blur();}).bind(this),0);n.setClickPointInfo({click:'Search'});};r.prototype.handleTab=function(event){'use strict';var s=this.view.getQuerySuggestion(this.value);if(s){k.setValue(this.element,s);this.checkValue();event.kill();}else q.handleTab.call(this,event);};r.prototype.getSearchType=function(){'use strict';return 'regular';};r.prototype.focus=function(){'use strict';q.focus.call(this);if(this.getValue().length===0||this.element.getAttribute('singlestate')==='true')this.data.fetchNullState(this.getValue());};r.prototype.keyup=function(event){'use strict';if(this.getValue().length===0&&j.getKeyCode(event)===l.ESC)return;if(this.getValue().length===0)this.data.fetchNullState(this.getValue());this.element.setAttribute('singlestate',false);};f.exports=r;},null);
__d('legacy:SearchTypeaheadCore',['SearchTypeaheadCore'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.SearchTypeaheadCore=c('SearchTypeaheadCore');},3);
__d('SearchPeopleSeeMore',['TokenizeUtil','URI','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m,n){'use strict';var o=n.placement,p=n.strategy,q=n.min_users,r=n.query_to_show;this.seeMoreUri=m;this.placement=o;this.strategy=p;this.min_users=q;this.query_to_show=r;}l.prototype.injectInto=function(m,n){'use strict';if(!m||m.length===0)return;var o=this.$SearchPeopleSeeMore1(m,n);if(!o)return;var p=this.createFindAllPeopleResult(o);this.$SearchPeopleSeeMore2(p,m);};l.prototype.$SearchPeopleSeeMore1=function(m,n){'use strict';if(this.strategy==='disabled')return null;if(m[0].type!=='user')return null;var o=m.filter(function(s){return s.type==='user';});if(o.length<this.min_users){return null;}else if(o.length>this.min_users)o=o.slice(0,this.min_users);var p,q=o[0];switch(this.strategy){case 'all_identical':var r=o.every((function(s){return this.$SearchPeopleSeeMore3(q.text,s.text);}).bind(this));p=r?q.text:null;break;case 'top_results_prefix':p=o.reduce((function(s,t){return this.$SearchPeopleSeeMore4(s,t.text);}).bind(this),q.text);break;default:k(0);}if(!p)return null;return this.query_to_show==='common'?p:n;};l.prototype.$SearchPeopleSeeMore2=function(m,n){'use strict';if(this.placement==='last'){var o=n.filter(function(q){return q.type==='user';}).length;n.splice(o,0,m);}else{var p=parseInt(this.placement,10);n.splice(p,0,m);}};l.prototype.createFindAllPeopleResult=function(m){'use strict';var n=j._("Alle Personen mit dem Namen \u201e{query}\u201c finden",[j.param('query',m.toLowerCase())]),o=new i(this.seeMoreUri).addQueryData({q:m,init:'psm'}).toString();return {uid:'people_search',type:'user',text:n,classNames:'seeAllUser',photo:'/images/search_typeahead/people_see_more.png',path:o};};l.prototype.$SearchPeopleSeeMore3=function(m,n){'use strict';if(m===n)return true;var o=h.tokenize(m),p=h.tokenize(n);if(o.length!==p.length)return false;return o.every(function(q,r){return q===p[r];});};l.prototype.$SearchPeopleSeeMore4=function(m,n){'use strict';if(!m||!n)return;if(m===n)return m;var o=h.tokenize(m),p=h.tokenize(n),q=[];for(var r=0;r<o.length&&r<p.length;r++)if(o[r]===p[r]){q.push(o[r]);}else break;if(q.length===0)return null;return q.join(' ');};f.exports=l;},null);
__d('SearchTypeaheadView',['Arbiter','ContextualLayerUpdateOnScroll','ContextualTypeaheadView','cx','DOM','goURI','MusicConstants','MusicEvents','SearchPeopleSeeMore','SearchPeopleSeeMoreOptions','SearchPeopleFriendsOf','SearchPeopleFriendsOfOptions','URI','fbt','isEmail'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;w=babelHelpers.inherits(y,j);x=w&&w.prototype;function y(aa,ba){'use strict';x.constructor.call(this,aa,ba);this._peopleSeeMore=new p(this.getSeeMoreEndpoint('',true),q);this._peopleFriendsOf=new r(this.getSeeMoreEndpoint('',true),s);}y.prototype.initializeLayer=function(){'use strict';x.initializeLayer.call(this);this.layer.setOffsetY(-1);this.layer.enableBehavior(i);};y.prototype.ignoreClick=function(event){'use strict';event.prevent();};y.prototype.render=function(aa,ba,ca){'use strict';if(!ba)return;if(this._bucketize)ba=z(ba);if(this.showPeopleSeeMore&&aa)this._peopleSeeMore.injectInto(ba,aa);if(this.showPeopleFriendsOf&&aa)this._peopleFriendsOf.injectInto(ba,aa);var da={results:ba,value:aa};this.inform('finalResultsReordering',da);return x.render.call(this,aa,da.results,ca);};y.prototype.disableBucketization=function(){'use strict';this._bucketize=false;};y.prototype.buildBuckets=function(aa,ba){'use strict';var ca=ba.length,da=0,ea;for(ea=0;ea<ca;++ea)if(ba[ea].type=='user')da++;this._redirectToUsersResultsPage=this.showFilterResults&&da===ca;this.setWebSuggLoggingParams(aa,ba);if(!aa&&this.showFindPeople)ba.unshift(this.buildFindPeople());if(this._bucketize)ba=x.buildBuckets.call(this,aa,ba);if(aa&&this._shouldShowSeeMore){ba.push(this.buildSeeMore(aa,ca));if(v(aa)&&da<1)ba.push(this.buildInvite(aa));}return ba;};y.prototype.buildFindPeople=function(){'use strict';var aa=u._("Personen finden");return {classNames:'seeAllUser seeAllUserNullState',logType:'grammar',path:this.getSeeMoreEndpoint(null,true),photo:'/images/search_typeahead/people_see_more.png',text:aa,type:'no_header'};};y.prototype.buildSeeMore=function(aa,ba){'use strict';var ca=this.getSeeMoreText(aa,ba),da=this.getSeeMoreSubtext(ba),ea,fa,ga,ha='',ia='',ja='';if(this.showseemorev2){fa='seeMoreV2';ga='calltoactionV2';ja=l.create('span',{className:'simpleSearchSeeMoreRowRedesignIcon'});}else{fa='seeMore';ga='calltoaction';ha=l.create('span',{className:'arrow'});ia=l.create('span',{className:'subtext'},[da]);}ea=l.create('li',{className:ga},[ja,l.create('a',{href:this.getSeeMoreEndpoint(aa),rel:'ignore'},[l.create('span',{className:'text'},[l.create('span',{className:fa},ca),ha,ia])])]);ea.setAttribute('aria-label',ca);return {uid:'search',node:ea,search:true};};y.prototype.getSeeMoreText=function(aa,ba){'use strict';if(this.showKeywordResultsPage)return u._("Suche nach \u201e{query}\u201c",[u.param('query',aa)]);if(ba<=0)return u._("Ergebnisse f\u00fcr \u201e{query}\u201c anzeigen",[u.param('query',aa)]);if(this._redirectToUsersResultsPage)return u._("Ergebnisse f\u00fcr {query} filtern",[u.param('query',aa)]);if(this.showseemorev2){var ca=l.create('b',{},aa);return u._("Weitere Ergebnisse f\u00fcr \u201e{query}\u201c anzeigen",[u.param('query',ca)]);}else return u._(["Weitere Ergebnisse f\u00fcr \u201e{query}\u201c anzeigen","44e6d113d67af68d7209174cf9420c3d"],[u.param('query',aa)]);};y.prototype.getSeeMoreSubtext=function(aa){'use strict';if(aa===0)return u._("Keine Ergebnisse vorhanden");if(aa===1)return u._("Das beste Ergebnis wird angezeigt");return u._({"*":"Die besten {number} Ergebnisse werden angezeigt"},[u.param('number',aa,[0])]);};y.prototype.buildInvite=function(aa){'use strict';var ba=u._("{query} zu Facebook einladen",[u.param('query',aa)]),ca=l.create('li',{className:'calltoaction'},[l.create('a',{href:this.getInviteEndpoint(aa),rel:'ignore'},[l.create('span',{className:'text'},[l.create('span',{className:'invite'},[ba])])])]);ca.setAttribute('aria-label',ba);return {uid:'invite',node:ca,search:true};};y.prototype.searchPageQueryData=function(aa){'use strict';return babelHelpers._extends({q:aa},this.queryData||{});};y.prototype.searchPageTypeData=function(aa){'use strict';return this._redirectToUsersResultsPage||aa?{type:"users"}:{};};y.prototype.select=function(aa){'use strict';var ba=this.index,ca=this.results[ba];if(!ca||ca.type=='header')return;var da=this.items[ba],ea=l.scry(da,'a')[0];if(ca.song){if(ea)o.inform(n.MUSIC_BUTTON.ACTIVATE,ea);aa&&this.inform('highlight',{index:ba,selected:ca});}else{x.select.call(this,aa);if(ea&&ea.href)if(ea.target=='_blank'){window.open(ea.href);}else m(ea.href);}};y.prototype.setSid=function(aa){'use strict';this.queryData.tas=aa;};y.prototype.getSeeMoreEndpoint=function(aa,ba){'use strict';return new t(this.seeMoreEndpoint).addQueryData(this.searchPageQueryData(aa)).addQueryData(this.searchPageTypeData(ba)).toString();};y.prototype.getInviteEndpoint=function(aa){'use strict';return new t('/invite.php').addQueryData({email_list:aa});};y.prototype.show=function(){'use strict';if(!this.isVisible()){h.inform('layer_shown',{type:'SearchTypeahead'});this.searchBtns=this.searchBtns||l.scry(this.typeahead,'button.reDesignedBtn');if(this.searchBtns[0])CSS.addClass(this.searchBtns[0],"btnSelected");x.show.call(this);}};y.prototype.hide=function(){'use strict';if(this.isVisible()){h.inform('layer_hidden',{type:'SearchTypeahead'});this.searchBtns=this.searchBtns||l.scry(this.typeahead,'button.reDesignedBtn');if(this.searchBtns[0]&&CSS.hasClass(this.searchBtns[0],"btnSelected"))CSS.removeClass(this.searchBtns[0],"btnSelected");x.hide.call(this);}};y.prototype.getQuerySuggestion=function(aa){'use strict';var ba=this.results[this.index],ca=ba&&ba.type!='header'?ba.text.toLowerCase():'';return ca==aa.toLowerCase()?'':ca;};y.prototype.setWebSuggLoggingParams=function(aa,ba){'use strict';var ca=0,da=0;for(var ea=0;ea<ba.length;ea++)if(ba[ea].type==='websuggestion'){if(da===0)da=ea+1;var fa='FR'+(ea-ca)+'AS'+ca,ga=ea+1;ba[ea].path+='&wssk='+fa+'&wssp='+ga+'&wspq='+encodeURIComponent(aa);ba[ea].path+='&wssrc='+ba[ea].websuggestion_source;ca++;}var ha='&wssc='+ba.length+'-'+aa.length+'&wsbp='+ca+'-'+da;for(ea=0;ea<ba.length;ea++)if(ba[ea].type==='websuggestion')ba[ea].path+=ha;};function z(aa){var ba,ca,da,ea,fa=[],ga={};ca=aa.length;for(ba=0;ba<ca;ba++){da=aa[ba];ea=da.render_type||da.type;if(!ga.hasOwnProperty(ea)){ga[ea]=fa.length;fa.push([]);}fa[ga[ea]].push(da);}var ha=[];ca=fa.length;for(ba=0;ba<ca;++ba){da=fa[ba][0];ea=da.render_type||da.type;ha=ha.concat(fa[ba]);}return ha;}Object.assign(y.prototype,{_shouldShowSeeMore:true,_bucketize:true,queryData:{init:'quick'}});f.exports=y;},null);
__d('legacy:SearchTypeaheadView',['SearchTypeaheadView'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.SearchTypeaheadView=c('SearchTypeaheadView');},3);
__d('legacy:Typeahead',['Typeahead'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.Typeahead=c('Typeahead');},3);
__d('SearchTypeaheadRecorder',['AsyncRequest','Banzai','BanzaiNectar','BanzaiScuba','CurrentUser','Event','FacebarGlobalOptions','Keys','TokenizeUtil','Vector','clickRefAction','mapObject','ge','throttle','whitelistObjectKeys'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w={WAITING:'WAITING',SUCCESS:'SUCCESS',NO_RESULTS:'NO_RESULTS',ERROR:'ERROR'};function x(z){'use strict';this.init(z);this.initEvents(z);}x.prototype.init=function(z){'use strict';this.core=z.getCore();this.data=z.getData();this.view=z.getView();this.element=this.core.getElement();this.initTime=Date.now();this._onloadTime=0;this._extraRecorder=[];this.performanceTimings={};this.allFromSingleState=false;this.allFromNullState=false;var aa=t('search_first_focus');this.initStartTime=aa&&aa.value;this.bootstrapStats={bootstrapped:0};this.type="legacy_search";this._reset();};x.prototype._reset=function(){'use strict';this.stats={};this.avgStats={};this.appendStats={};this._backspacing=false;this.backendQueries=[];this.backendQueriesStatus={};this._topreplace=false;this._inflightRequests={};var z=Math.random().toString();this.data.setQueryData({sid:z});this.view.setSid(z);this.recordStat('sid',z);this.recordStat('keypressed',0);};x.prototype.initEvents=function(){'use strict';this.core.subscribe('focus',(function(event){if(!this.stats.session_start_time){this.recordStat('session_start_time',Date.now());var z=new Date(),aa=z.getTimezoneOffset(),ba=Date.now()-aa*60*1000;this.recordStat('session_start_time_user_timezone',ba);}}).bind(this));this.core.subscribe('blur',(function(event){var z=Date.now();for(var aa in this._inflightRequests){var ba=this._inflightRequests[aa],ca=z-ba;this.recordAvgStat('search_endpoint_ms_from_js',ca);}this.recordStat('session_end_time',z);this.submit();}).bind(this));this.view.subscribe('select',(function(z,aa){this.recordSelectInfo(aa);}).bind(this));this.view.subscribe('render',(function(z,aa){this.recordRender(aa);}).bind(this));this.data.subscribe('logPerformanceTiming',(function(z,aa){this.performanceTimings[aa.field]=aa.value;}).bind(this));this.data.subscribe('activity',(function(z,aa){this.recordStat('pending_request',aa.activity);}).bind(this));this.data.subscribe('respondValidUids',(function(z,aa){this.validUids=aa.slice(0);}).bind(this));this.data.subscribe('beforeQuery',(function(z,aa){if(!aa.value){this.query='';this.results=[];this.data.lastNullOrSingleStateFetchStartTime=Date.now();return;}if(!this.stats.first_query_time)this.recordStat('first_query_time',Date.now());this.query=aa.value;if(!this.queryStartTime)this.queryStartTime=[];this.queryStartTime[this.query]=Date.now();this.recordCountStat('num_queries');}).bind(this));this.data.subscribe('queryEndpoint',(function(z,aa){this.recordCountStat('num_search_ajax_requests');this.recordAvgStat('endpoint_query_length',aa.value.length);this._inflightRequests[aa.value]=Date.now();}).bind(this));this.data.subscribe('onload',(function(z,aa){this._onloadTime=aa.time;}).bind(this));this.data.subscribe('bootstrapped',(function(z,aa){this.bootstrapStats.endTime=aa.time;this.bootstrapStats.bootstrapped=1;}).bind(this));this.core.subscribe('recordFunction',(function(z,aa){this._extraRecorder.push(aa);}).bind(this));this.data.subscribe('endpointStats',(function(z,aa){var ba=aa.info,ca=ba.fetch_end-ba.fetch_start;if(ba.value){this.recordAvgStat('search_endpoint_ms_from_js',ca);}else this.bootstrapStats[ba.type]=ca;if(ba.coeff2_ts)this.bootstrapStats.coeff2_ts=ba.coeff2_ts;if(typeof ba.browserCacheHit!='undefined')this.recordCountStat(ba.browserCacheHit?'bootstrap_cachehits':'bootstrap_cachemisses');if(this._inflightRequests[ba.value])delete this._inflightRequests[ba.value];}).bind(this));this.data.subscribe('fetchComplete',(function(z,aa){var ba=aa.entries,ca=aa.value;if(ca&&this.backendQueriesStatus[ca]){this._addDurationForBackendQuery(this.backendQueriesStatus[ca]);this.backendQueriesStatus[ca].status=ba&&ba.length>0?w.SUCCESS:w.NO_RESULTS;}}).bind(this));this.data.subscribe('fetchError',(function(z,aa){var ba=aa.fetch_context,ca=ba.value;if(ba.bootstrap||!ca)return;if(this.backendQueriesStatus[ca]){this.backendQueriesStatus[ca].status=w.ERROR;this._addDurationForBackendQuery(this.backendQueriesStatus[ca]);}}).bind(this));this.data.subscribe('query',(function(z,aa){this.recordAvgStat('num_results_from_cache',aa.results.length);}).bind(this));this.data.subscribe('backend_topreplace',(function(z,aa){if(false===this._topreplace){this.recordStat("backend_topreplace",1);this._topreplace=true;}}).bind(this));this.data.subscribe('completeFetch',(function(z,aa){if(this.core.scubaInfo){var ba=aa.response,ca={recv:aa.stats.fetch_end-aa.stats.fetch_start,render:Date.now()-aa.stats.fetch_start,payload_size:JSON.stringify(ba).length};if(!ba.payload.entities)ba.payload.entities=this.buildResults();this.logToScuba(ba,ca,this.core.scubaInfo,this.query,this.type);}}).bind(this));this.data.subscribe('completeCacheFetch',u((function(z,aa){if(this.core.scubaInfo)this.logToScuba({},{},this.core.scubaInfo,this.query,this.type);}).bind(this),500));m.listen(this.element,'keydown',(function(event){this.recordStat('keypressed',1);this.recordCountStat('count_keys_pressed');if(m.getKeyCode(event)==o.BACKSPACE){if(!this._backspacing&&this.query){this._backspacing=true;this.recordAppendStat('before_backspace_queries',this.query);}}else this._backspacing=false;}).bind(this));this.data.subscribe('beforeFetch',(function(z,aa){var ba=aa.request.data.value;if(!ba)return;this.backendQueries.push(ba);this.backendQueriesStatus[ba]={status:w.WAITING,start_time:Date.now()};}).bind(this));};x.prototype.recordStat=function(z,aa){'use strict';this.stats[z]=aa;};x.prototype.recordCountStat=function(z){'use strict';var aa=this.stats[z];this.stats[z]=aa?aa+1:1;};x.prototype.recordAvgStat=function(z,aa){'use strict';if(this.avgStats[z]){this.avgStats[z][0]+=aa;++this.avgStats[z][1];}else this.avgStats[z]=[aa,1];};x.prototype.recordAppendStat=function(z,aa){'use strict';if(!this.appendStats.hasOwnProperty(z))this.appendStats[z]=[];this.appendStats[z].push(aa);};x.prototype.recordRender=function(z){'use strict';this.results=z.filter(function(ja){return ja.uid!='search'&&ja.type!='disabled_result'&&ja.type!='header';}).map(function(ja){return babelHelpers._extends({},ja);});var aa=null;if(this.queryStartTime)aa=this.queryStartTime[this.query];var ba=this.results.every(function(ja){return ja.fromCache;}),ca=this.results.every(function(ja){return ja.isFromGSEF||ja.fromCache;}),da=this.results.every(function(ja){return ja.isNullState;}),ea=this.results.every(function(ja){return ja.isSingleState;}),fa=this.results.every(function(ja){return ja.exactMatchKeyword;});this.allFromSingleState=ea;this.allFromNullState=da;if(this.results.length&&this.data.lastNullOrSingleStateFetchStartTime&&da){this.recordStat('time_render_null_state',Date.now()-this.data.lastNullOrSingleStateFetchStartTime);this.data.lastNullOrSingleStateFetchStartTime=null;}else if(this.data.lastNullOrSingleStateFetchStartTime&&this.results.length&&ea){this.recordStat('time_render_single_state',Date.now()-this.data.lastNullOrSingleStateFetchStartTime);}else if(aa){var ga=Date.now()-aa;if(fa){this.recordAppendStat('times_render_gs_echo',ga);}else this.recordAppendStat(ba?'times_render_local':'times_render_remote',ga);if(!ba&&ca)this.recordAppendStat('time_render_gs_early_fetch',ga);}this.data.lastNullOrSingleStateFetchStartTime=null;var ha=q.getViewportDimensions();this.recordStat('window_size_width',ha.x);this.recordStat('window_size_height',ha.y);if(this.results.length>0&&!this.stats.first_result_time)this.recordStat('first_result_time',Date.now());var ia='typed';if(this.allFromNullState){ia='nullstate';}else if(this.allFromSingleState)ia='singlestate';this.recordStat('last_state',ia);};x.prototype.recordSelectInfo=function(z){'use strict';var aa=z.selected,ba=z.index;if(aa.groupIndex!==undefined)ba=z.index-aa.groupIndex-1;var ca={href:aa.path},da=aa.dataGT?{gt:JSON.parse(aa.dataGT)}:{};r('click',ca,null,null,da);if(aa.uid=='search'||aa.uid=='people_search'){this.recordStat('selected_search',1);}else if(aa.uid=='invite'){this.recordStat('selected_invite',1);}else{var ea=aa.log_type||aa.rankType||aa.render_type||aa.type,fa=ea=='friend'?'user':ea;this.recordStat('selected_'+fa,1);this.recordStat('selected_position',ba);this.recordStat('selected_type',ea);this.recordStat('selected_name_length',aa.text.length);this.recordStat('selected_id',aa.uid);this.recordStat('selected_degree',aa.bootstrapped?1:2);this.recordStat('selected_recent_search',aa.recent_search);var ga=p.parse(this.data.getTextToIndex(aa)).tokens,ha=y(ga,this.query);if(ha)this.recordStat('matched_terms',ha);}var ia={};this._extraRecorder.forEach((function(ja){ja(z,this.results,ia);}).bind(this));this.recordStat('extra_select_info',JSON.stringify(ia));if(aa.type==='websuggestion'){this.recordStat('selected_memcached_websuggestion',aa.fromMemcache);this.recordStat('selected_websuggestion_source',aa.websuggestion_source);}this.recordStat('selected_with_mouse',z.clicked?1:0);};x.prototype._addDurationForBackendQuery=function(z){'use strict';if(z.start_time){z.duration=Date.now()-z.start_time;delete z.start_time;}};x.prototype._dataToSubmit=function(){'use strict';this.recordStat('candidate_results',this.buildResults());this.recordStat('query',this.query);this.recordStat('init_time',this.initTime);if(this.initStartTime){this.recordStat('init_start_time',this.initStartTime);this.recordStat('onload_time',this._onloadTime);this.initStartTime=0;}this.recordStat('bootstrapped',this.bootstrapStats.bootstrapped);if(this.bootstrapStats.endTime){this.recordStat('bootstrapped_time',this.bootstrapStats.endTime);this.recordStat('user_bootstrap_ms',this.bootstrapStats.user);this.recordStat('other_bootstrap_ms',this.bootstrapStats.other);this.bootstrapStats.endTime=0;}var z=this.data.getBootstrapError();if(z)this.recordStat('bootstrap_error',1);this.recordStat('coeff2_ts',this.bootstrapStats.coeff2_ts);this.recordStat('max_results',this.data._maxResults);if(this.backendQueries.length>0){if(this.backendQueries.length>this.data.logBackendQueriesWindow)this.backendQueries=this.backendQueries.slice(this.backendQueries.length-this.data.logBackendQueriesWindow);this.recordStat('backend_queries',this.backendQueries);var aa=v(this.backendQueriesStatus,this.backendQueries);s(aa,this._addDurationForBackendQuery,this);this.recordStat('backend_queries_status',aa);}if(n.taSessionLoggingSample){var ba=[];this.results.forEach(function(ga){ba.push([ga.text||'',ga.category||'',ga.subtext||'']);});this.recordStat('raw_suggestions_text',ba);}var ca=this.stats;for(var da in this.avgStats){var ea=this.avgStats[da];ca[da]=ea[0]/ea[1];}for(var fa in this.appendStats)ca[fa]=JSON.stringify(this.appendStats[fa]);return ca;};x.prototype.buildResults=function(){'use strict';var z=(this.results||[]).map((function(aa,ba){var ca=p.parse(this.data.getTextToIndex(aa)).tokens,da=aa.rankType||aa.render_type||aa.type,ea=aa.bootstrapped?1:0,fa=aa.s_token||'',ga=typeof aa.index=='undefined'?100:aa.index,ha=y(ca,this.query)||this.query,ia=aa.index_rank,ja=aa.match_type,ka=aa.l_type,la=aa.vertical_type,ma=aa.prefix_match,na=aa.prefix_length,oa=aa.text,pa=aa.category,qa=aa.subtext,ra=aa.fromCache,sa=aa.isNullState,ta=aa.isSingleState;if(typeof aa.groupIndex=='number')return [aa.groupIndex,aa.indexInGroup,aa.uid,da,ea,fa,ha,ia,ja,ma,na,aa.origIndex,ka,la,oa,pa,qa,ga,ra,sa,ta];return [0,ba,aa.uid,da,ea,fa,ha,ia,ja,ma,na,aa.origIndex,ka,la,oa,pa,qa,ga,ra,sa,ta];}).bind(this));return JSON.stringify(z);};x.prototype.submit=function(){'use strict';var z=this._dataToSubmit();switch(this.data.recordingRoute){case 'banzai_vital':i.post(this._banzaiRoute,z,{delay:0,retry:true});break;default:this.submitThroughAsyncRequest(z);}this._reset();};x.prototype.addLatencyToSample=function(z,aa,ba,ca){'use strict';z.addInteger(ca+'query_start',ba.queryStart);z.addInteger(ca+'query_end',ba.queryEnd);z.addInteger(ca+'keypress_query_end',ba.keyPressToQueryEnd);z.addInteger(ca+'render',ba.render);z.addInteger(ca+'keypress_render',ba.keyPressToRender);aa[ca+'query_start']=ba.queryStart;aa[ca+'query_end']=ba.queryEnd;aa[ca+'keypress_query_end']=ba.keyPressToQueryEnd;aa[ca+'render']=ba.render;aa[ca+'keypress_render']=ba.keyPressToRender;};x.prototype.logToScuba=function(z,aa,ba,ca,da){'use strict';var ea={},fa=new k('search_facebar_js',null,{addBrowserFields:true,addPredictedGeographyFields:true,addUser:true,addSearchVersion:true,addGatekeepers:{facebarGKs:true}});fa.addInteger('sample_rate',ba.sample_rate);ea.sample_rate=ba.sample_rate;fa.addNormal('site',ba.site);ea.site=ba.site;fa.addDenorm('query',ca);ea.query=ca;var ga=z.payload||{};if(ga.entities){fa.addInteger('num_entities',ga.entities.length);ea.num_entities=ga.entities.length;}Object.keys(this.performanceTimings).forEach((function(ia){fa.addInteger(ia,this.performanceTimings[ia]);ea[ia]=this.performanceTimings[ia];}).bind(this),this);if(ga.results||ga.entries){var ha=(ga.results||ga.entries).length;fa.addInteger('num_results',ha);ea.num_results=ha;}if(ga.gzipped_payload_size!==undefined){fa.addInteger('gzipped_payload_size',ga.gzipped_payload_size);ea.gzipped_payload_size=ga.gzipped_payload_size;}if(aa.recv&&aa.render>aa.recv){fa.addInteger('time_render',aa.render-aa.recv);ea.time_render=aa.render-aa.recv;fa.addInteger('time_js_async',aa.recv);ea.time_js_async=aa.recv;}if(aa.payload_size){fa.addInteger('payload_size',aa.payload_size);ea.payload_size=aa.payload_size;}if(this.stats.time_render_null_state&&(!ca||ca.length===0)){fa.addInteger('time_render_null_state',this.stats.time_render_null_state);ea.time_render_null_state=this.stats.time_render_null_state;}fa.addInteger('query_id',z.queryId);ea.query_id=z.queryId;fa.addDenorm('user_id',l.getID());ea.user_id=l.getID();fa.addDenorm('session_id',this.stats.sid);ea.session_id=this.stats.sid;fa.addNormal('typeahead_type',da);ea.typeahead_type=da;if(aa.remoteQueryLatencies){this.addLatencyToSample(fa,ea,aa.remoteQueryLatencies,'remote_');fa.addInteger('remote_keypress_query_dispatch',aa.remoteQueryLatencies.keyPressToQueryDispatch);ea.remote_keypress_query_dispatch=aa.remoteQueryLatencies.keyPressToQueryDispatch;fa.addInteger('remote_keypress_query_start',aa.remoteQueryLatencies.keyPressToQueryStart);ea.remote_keypress_query_start=aa.remoteQueryLatencies.keyPressToQueryStart;fa.addNormal('inflight_requests',aa.remoteQueryLatencies.inflightRequests);fa.addInteger('inflight_requests',aa.remoteQueryLatencies.inflightRequests);ea.inflight_requests=aa.remoteQueryLatencies.inflightRequests;fa.addNormal('waiting_queries',aa.remoteQueryLatencies.waitingQueries);fa.addInteger('waiting_queries',aa.remoteQueryLatencies.waitingQueries);ea.waiting_queries=aa.remoteQueryLatencies.waitingQueries;}if(aa.cacheQueryLatencies)this.addLatencyToSample(fa,ea,aa.cacheQueryLatencies,'cache_');fa.post();j.log('search_facebar_js','typeahead',ea);};x.prototype.submitThroughAsyncRequest=function(z){'use strict';if(Object.keys(z).length>0)new h().setURI(this._endPoint).setMethod('POST').setData({stats:z}).setOption('handleErrorAfterUnload',true).setErrorHandler((function(aa){z.retry=true;new h().setURI(this._endPoint).setMethod('POST').setData({stats:z}).setOption('asynchronous',false).send();}).bind(this)).send();};var y=function(z,aa){if(!z||!aa)return;var ba=p.parse(aa);if(ba.flatValue[ba.flatValue.length-1]===' ')return ba.flatValue;var ca=ba.tokens[ba.tokens.length-1],da={};z.forEach(function(ia){da[ia]=(da[ia]||0)+1;});var ea={},fa=ba.tokens.slice(0,ba.tokens.length-1);fa.forEach(function(ia){ea[ia]=(ea[ia]||0)+1;});for(var ga=0;ga<z.length;++ga){var ha=z[ga];if(ha.indexOf(ca)===0&&da[ha]-(ea[ha]||0)>0){fa.push(ha);return fa.join(' ');}}return undefined;};Object.assign(x.prototype,{_endPoint:'/ajax/typeahead/record_metrics.php',_banzaiRoute:'search'});f.exports=x;},null);
__d('TypeaheadSearchRecorderBasic',['SearchTypeaheadRecorder','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this._typeahead=k;}j.prototype.enable=function(){'use strict';new h(this._typeahead);};Object.assign(j.prototype,{disable:i});f.exports=j;},null);
__d('legacy:SearchRecorderBasicTypeaheadBehavior',['TypeaheadSearchRecorderBasic'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.searchRecorderBasic=function(i){i.enableBehavior(h);};},3);
__d('legacy:SearchTypeaheadRenderer',['SearchTypeaheadRenderer'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadRenderers)b.TypeaheadRenderers={};b.TypeaheadRenderers.search=c('SearchTypeaheadRenderer');},3);
void 0;
__d("XSearchFacebarSurveyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/search\/facebar_survey\/",{id:{type:"String",required:true},query:{type:"String"},session_id:{type:"String",required:true},on_session_start:{type:"Exists",defaultValue:false},result_selected:{type:"Exists",defaultValue:false}});},null,{});
__d('AbandonedSessionSurvey',['AsyncRequest','SubscriptionsHandler','XSearchFacebarSurveyController','getOrCreateDOMID'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){'use strict';this.core=m.getCore();this.data=m.getData();this.view=m.getView();this.subscriptionsHandler=new i();}l.prototype.enable=function(){'use strict';this.subscriptionsHandler.addSubscriptions(this.core.subscribe('focus',(function(){this.searchBoxFocused=true;this.resultSelected=false;}).bind(this)),this.data.subscribe('beforeQuery',(function(m,n){this.query=n.value||'';}).bind(this)),this.view.subscribe('select',(function(){this.resultSelected=true;}).bind(this)),this.core.subscribe('blur',(function(){if(this.searchBoxFocused){this.openSurvey();this.resultSelected=false;this.searchBoxFocused=false;}}).bind(this)));};l.prototype.disable=function(){'use strict';this.subscriptionsHandler.release();this.request&&this.request.abort();};l.prototype.openSurvey=function(){'use strict';if(this.openedSurvey)return;this.openedSurvey=true;var m=j.getURIBuilder().setString('id',k(this.core.element)).setString('query',this.query||'').setString('session_id',this.data.queryData.sid).setExists('result_selected',this.resultSelected);this.request=new h().setMethod('post').setAllowCrossPageTransition(true).setURI(m.getURI());this.request.send();};f.exports=l;},null);
__d('TypeaheadSearchFilter',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this._typeahead=j;}i.prototype.enable=function(){'use strict';var j=this._typeahead,k=j.getView().seeMoreEndpoint;this._subscriptions=[h.subscribe('search/typeahead/updateFilter',function(l,m){if(m.filter_type=='web')j.getView().queryData.form='FBKBFR';j.getView().queryData.type=m.filter_type;}),h.subscribe('search/typeahead/updateSeeMoreEndpoint',function(l,m){j.getView().seeMoreEndpoint=m;}),h.subscribe('page_transition',function(l,m){if(j.getView().queryData.form)delete j.getView().queryData.form;delete j.getView().queryData.type;j.getView().seeMoreEndpoint=k;},h.SUBSCRIBE_NEW)];};i.prototype.disable=function(){'use strict';this._subscriptions.forEach(function(j){j.unsubscribe();});this._subscriptions=null;};Object.assign(i.prototype,{_subscription:null});f.exports=i;},null);
__d('legacy:SearchFilterTypeaheadBehavior',['TypeaheadSearchFilter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.initFilters=function(i){i.enableBehavior(h);};},3);
__d('SessionStartSurvey',['AsyncRequest','SubscriptionsHandler','XSearchFacebarSurveyController','getOrCreateDOMID'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){'use strict';this.core=m.getCore();this.data=m.getData();this.subscriptionsHandler=new i();}l.prototype.enable=function(){'use strict';this.subscriptionsHandler.addSubscriptions(this.data.subscribe('query',(function(){this.openSurvey();}).bind(this)));};l.prototype.disable=function(){'use strict';this.subscriptionsHandler.release();this.request&&this.request.abort();};l.prototype.openSurvey=function(){'use strict';if(this.openedSurvey)return;this.openedSurvey=true;var m=j.getURIBuilder().setString('id',k(this.core.element)).setExists('on_session_start',true).setString('session_id',this.data.queryData.sid);this.request=new h().setMethod('post').setURI(m.getURI());this.request.send();};f.exports=l;},null);
__d('TypeaheadDetectQueryLocale',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._typeahead=i;this._data=i.getData();this._queryCache={'':this._data.queryCache,ja_JP:{},zh_TW:{}};}h.prototype.enable=function(){'use strict';this._previousLocale='';this._reset=this._typeahead.subscribe('reset',this._swapQueryCache.bind(this,''));this._beforeQuery=this._data.subscribe('beforeQuery',(function(i,j){var k=j.value;if(k===''){this._swapQueryCache('');return;}var l=null,m=k.charCodeAt(k.length-1);if(12352<=m&&m<=12543){l='ja_JP';}else if(12544<=m&&m<=12735)l='zh_TW';this._swapQueryCache(l);}).bind(this));};h.prototype.disable=function(){'use strict';this._swapQueryCache('');this._data.unsubscribe(this._beforeQuery);this._typeahead.ubsubscribe(this._reset);};h.prototype._swapQueryCache=function(i){'use strict';if(i===null||i===this._previousLocale)return;this._data.queryCache=this._queryCache[i];this._data.setQueryData({query_locale:i});this._previousLocale=i;};f.exports=h;},null);
__d('TypeaheadExcludeBootstrapFromQueryCache',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._data=i.getData();}h.prototype.enable=function(){'use strict';this._buildingQueryCache=false;this._buildQueryCache=this._data.subscribe('buildQueryCache',(function(){this._buildingQueryCache=true;}).bind(this));this._mergeUids=this._data.subscribe('mergeUids',(function(i,j){if(this._buildingQueryCache)j.local_uids.splice(0,j.local_uids.length);}).bind(this));this._fetchComplete=this._data.subscribe('fetchComplete',(function(){this._buildingQueryCache=false;}).bind(this));};h.prototype.disable=function(){'use strict';this._data.unsubscribe(this._buildQueryCache);this._data.unsubscribe(this._mergeUids);this._data.unsubscribe(this._fetchComplete);};f.exports=h;},null);
__d('TypeaheadRecentSearchUpdater',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.view=j.getView();}i.prototype.enable=function(){'use strict';this.updaterSubscription=this.view.subscribe('select',function(){h.inform('search/refreshRecentSearchesNullstate',{},h.BEHAVIOR_STATE);});};i.prototype.disable=function(){'use strict';this.view.unsubscribe(this.updaterSubscription);};f.exports=i;},null);
­      VÍKVÍK;²uWüÿ   Ba,:https://fbstatic-a.akamaihd.net/rsrc.php/v2/yH/r/2dhLxXEgwCG.js necko:classified 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8F+O2DZM7ZTG6GukivU8OT5gAAAAAAAAXAMIIFvDCCBKSgAwIBAgIUPbXhC4Xsu7H3z2HTJ2qImwWmfEMwDQYJKoZIhvcNAQELBQAwgY0xCzAJBgNVBAYTAk5MMRIwEAYDVQQHEwlBbXN0ZXJkYW0xJTAjBgNVBAoTHFZlcml6b24gRW50ZXJwcmlzZSBTb2x1dGlvbnMxEzARBgNVBAsTCkN5YmVydHJ1c3QxLjAsBgNVBAMTJVZlcml6b24gQWthbWFpIFN1cmVTZXJ2ZXIgQ0EgRzE0LVNIQTIwHhcNMTUwODI3MTYxMDEyWhcNMTYwODI3MTYxMDExWjBtMQswCQYDVQQGEwJVUzELMAkGA1UECBMCTUExEjAQBgNVBAcTCUNhbWJyaWRnZTEhMB8GA1UEChMYQWthbWFpIFRlY2hub2xvZ2llcyBJbmMuMRowGAYDVQQDExFhMjQ4LmUuYWthbWFpLm5ldDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMEsC1Bf+D5X49PrJxQQynzSoPaTqlm/R6G6xlDErWOJauViiexo6vmzahzzSlMEPVYpyT5oRd3SB4Qx7548TyiC90yse+aFur0qrNLeNMG7npVWA0up2v4a8msqYRACxoHcLolFXNFPNWtBTsRW42Ce+pg94pP4gWvBeFVclt3v9x2mr8RHafRNVLJvAJi+eg2mZlfeccqCWrIXKp/xZGUWBswTK+TFC2s1pJNxQkDMYpmLdgte0H0h4IRh8V7elj7TP/8Z8i0l4SxIHNbuqA8HvjBsundiNujlykBR9JSvX238ATPLOFrqkQQz6UAYHo2RRH7X72Uvbitu38jPYVcCAwEAAaOCAjEwggItMAwGA1UdEwEB/wQCMAAwTAYDVR0gBEUwQzBBBgkrBgEEAbE+ATIwNDAyBggrBgEFBQcCARYmaHR0cHM6Ly9zZWN1cmUub21uaXJvb3QuY29tL3JlcG9zaXRvcnkwga8GCCsGAQUFBwEBBIGiMIGfMC0GCCsGAQUFBzABhiFodHRwOi8vdmFzc2cxNDIub2NzcC5vbW5pcm9vdC5jb20wNgYIKwYBBQUHMAKGKmh0dHBzOi8vY2FjZXJ0LmEub21uaXJvb3QuY29tL3Zhc3NnMTQyLmNydDA2BggrBgEFBQcwAoYqaHR0cHM6Ly9jYWNlcnQuYS5vbW5pcm9vdC5jb20vdmFzc2cxNDIuZGVyMG4GA1UdEQRnMGWCEWEyNDguZS5ha2FtYWkubmV0gg4qLmFrYW1haWhkLm5ldIIWKi5ha2FtYWloZC1zdGFnaW5nLm5ldIIPKi5ha2FtYWl6ZWQubmV0ghcqLmFrYW1haXplZC1zdGFnaW5nLm5ldDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFPi9+q9zd8bHG/lLTRGn0TOvr3IRMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly92YXNzZzE0Mi5jcmwub21uaXJvb3QuY29tL3Zhc3NnMTQyLmNybDAdBgNVHQ4EFgQUwHfR+EVeIyYOCfrHIM4gYFwsUd8wDQYJKoZIhvcNAQELBQADggEBALu54DWULbb7PuC5sYITWHJAFLikko7suU7mUu2a/QvS/GNNHfm4ny+on2w++/itYAKrsNMXkX1zglqtX6AACSUlgw7K6G7CoEVJXBntkBmt9wAJXroe2jMgWYvpbmYkcyaNRc4VvOK9FjvHslqXa5Y6NArfI5kRfdljblFQXR2sTYyYk0Dqqq8COCs62GhyLlP/oohQU0hA6EtomF5VFNlokO9qa+IAHrp2lR/+BLYcwPgOCxszCZikcmP5zyAnkte1Blh9kBQnKf6J6wTZsUUPcLktNr7FFqRIay8moKUuxYiSqlE4kSktcYqXy5cGrgYfwGYM93+0O3y8QZ30vLHALwADAAAAAAEBAAA= request-method GET response-head HTTP/1.1 200 OK
access-control-allow-origin: *
Cache-Control: public, max-age=31245724
Content-MD5: 0FWfiPpzTZ2xzdT7mzkeLw==
Content-Type: application/x-javascript; charset=utf-8
Date: Thu, 15 Oct 2015 15:55:15 GMT
Expires: Tue, 11 Oct 2016 07:17:19 GMT
Last-Modified: Mon, 01 Jan 2001 08:00:00 GMT
Timing-Allow-Origin: *
x-content-type-options: nosniff
X-FB-Debug: zI7c99Jp5Hu7fnyEBz5g44rwqIL/2kKF5SDAcJ3427IwNl3uebZ9Vcm1RFClRFNudWOoQDSx/oVK4RAh+bDB7A==
X-Firefox-Spdy: 3.1
 uncompressed-len 0  ´¼